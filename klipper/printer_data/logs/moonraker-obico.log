2023-10-14 21:44:30,736      INFO  obico.app - Fetching linked printer...
2023-10-14 21:44:30,852      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer'}
2023-10-14 21:44:30,956   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-14 21:44:30,958   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-14 21:44:30,979      INFO  obico.moonraker_conn - connection is open
2023-10-14 21:44:31,072      INFO  obico.moonraker_conn - Klippy ready
2023-10-14 21:44:32,003   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 65679}, sender='moonrakerconn')
2023-10-14 21:44:32,004      INFO  obico.janus - Starting webcam streamer
2023-10-14 21:44:32,009      INFO  obico.app - detected state change: Offline -> Operational
2023-10-15 01:03:29,357      INFO  obico.app - Fetching linked printer...
2023-10-15 01:03:29,495      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer'}
2023-10-15 01:03:29,623   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-15 01:03:29,626   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-15 01:03:29,656      INFO  backoff - Backing off ensure_api_key(...) for 0.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf6551ad8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-10-15 01:03:30,555   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-15 01:03:30,589      INFO  obico.moonraker_conn - connection is open
2023-10-15 01:03:30,626   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-15 01:03:30,804      INFO  obico.moonraker_conn - Klippy ready
2023-10-15 01:03:31,681   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 55523}, sender='moonrakerconn')
2023-10-15 01:03:31,682      INFO  obico.app - detected state change: Offline -> Operational
2023-10-15 01:03:31,686      INFO  obico.janus - Starting webcam streamer
2023-10-15 16:50:34,895      INFO  backoff - Backing off capture_jpeg(...) for 0.9s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-15 16:50:35,793      INFO  backoff - Backing off capture_jpeg(...) for 0.6s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-15 16:50:36,394     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-15 16:50:36,395   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-10-15 18:56:44,216   WARNING  obico.ws - WS Closed - None - None
2023-10-15 22:17:26,949      INFO  obico.app - Fetching linked printer...
2023-10-28 16:27:33,492      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer'}
2023-10-28 16:27:33,618   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-28 16:27:33,620   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-28 16:27:33,641      INFO  obico.moonraker_conn - connection is open
2023-10-28 16:27:33,734      INFO  obico.moonraker_conn - Klippy ready
2023-10-28 16:27:34,666   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 60366}, sender='moonrakerconn')
2023-10-28 16:27:34,667      INFO  obico.janus - Starting webcam streamer
2023-10-28 16:27:34,671      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 16:40:48,247      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 16:41:04,615      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 16:42:12,805      INFO  backoff - Backing off capture_jpeg(...) for 0.9s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-28 16:42:13,701      INFO  backoff - Backing off capture_jpeg(...) for 1.2s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-28 16:42:14,863     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-28 16:42:14,863   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-10-28 16:42:55,744      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 16:43:04,848      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 16:44:26,698      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 16:44:35,061      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 16:45:18,044      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 16:45:34,888      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 16:54:06,520      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 16:54:35,722      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:04:57,755      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:05:06,376      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:06:59,776      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:07:06,404      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:14:38,871      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:15:07,072      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:15:22,082      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:15:36,982      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:16:14,808      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:16:36,994      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:17:32,729      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:17:37,164      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:22:39,430      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:23:07,626      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:29:14,404      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:29:38,068      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:33:25,128      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:33:38,231      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:37:49,484      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:38:08,659      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:39:06,033      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:39:38,742      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:49:43,591      INFO  obico.app - Fetching linked printer...
2023-10-28 17:49:43,701      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer'}
2023-10-28 17:49:43,870   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-28 17:49:43,872   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-28 17:49:43,892      INFO  obico.moonraker_conn - connection is open
2023-10-28 17:49:44,143      INFO  obico.moonraker_conn - Klippy ready
2023-10-28 17:49:44,900      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:49:44,901      INFO  obico.janus - Starting webcam streamer
2023-10-28 17:55:45,423   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-10-28 17:55:45,426      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:55:45,430   WARNING  obico.ws - WS Closed - None - None
2023-10-28 17:57:45,691   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-10-28 17:57:45,711      INFO  obico.moonraker_conn - connection is open
2023-10-28 17:57:45,857      INFO  obico.moonraker_conn - Klippy ready
2023-10-28 17:57:46,108      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 17:59:17,987      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 17:59:46,207      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 21:44:02,655      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 21:44:02,833      INFO  obico.app - print event: PrintStarted (1698525842)
2023-10-28 21:44:18,009      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-28 21:44:18,092      INFO  backoff - Backing off capture_jpeg(...) for 1.6s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-28 21:44:19,729     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-28 21:44:19,730   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-10-28 21:44:19,949      INFO  obico.app - detected state change: Printing -> Operational
2023-10-28 21:44:19,950      INFO  obico.app - print event: PrintCancelled (1698525842)
2023-10-28 21:44:20,452      INFO  obico.app - print event: PrintFailed (1698525842)
2023-10-28 21:45:17,094      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 21:45:29,237      INFO  obico.app - detected state change: Offline -> Printing
2023-10-28 21:51:59,609      INFO  obico.app - detected state change: Printing -> Paused
2023-10-28 21:51:59,611      INFO  obico.app - print event: PrintPaused (1698525928)
2023-10-28 21:52:06,132      INFO  obico.app - detected state change: Paused -> Operational
2023-10-28 21:52:06,133      INFO  obico.app - print event: PrintCancelled (1698525928)
2023-10-28 21:52:06,636      INFO  obico.app - print event: PrintFailed (1698525928)
2023-10-28 21:59:06,724      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 21:59:06,878      INFO  obico.app - print event: PrintStarted (1698526746)
2023-10-28 22:05:24,867      INFO  obico.app - detected state change: Printing -> Operational
2023-10-28 22:05:24,868      INFO  obico.app - print event: PrintCancelled (1698526746)
2023-10-28 22:05:25,370      INFO  obico.app - print event: PrintFailed (1698526746)
2023-10-28 22:06:30,316      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 22:06:30,474      INFO  obico.app - print event: PrintStarted (1698527190)
2023-10-28 22:09:34,855      INFO  obico.app - detected state change: Printing -> Operational
2023-10-28 22:09:34,856      INFO  obico.app - print event: PrintCancelled (1698527190)
2023-10-28 22:09:35,359      INFO  obico.app - print event: PrintFailed (1698527190)
2023-10-28 22:10:28,272      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 22:10:28,475      INFO  obico.app - print event: PrintStarted (1698527428)
2023-10-28 22:12:08,069      INFO  obico.app - detected state change: Printing -> Offline
2023-10-28 22:12:39,084      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 22:12:50,366      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 22:12:50,510      INFO  obico.app - print event: PrintStarted (1698527570)
2023-10-28 22:16:11,213      INFO  obico.app - detected state change: Printing -> Operational
2023-10-28 22:16:11,214      INFO  obico.app - print event: PrintCancelled (1698527570)
2023-10-28 22:16:11,718      INFO  obico.app - print event: PrintFailed (1698527570)
2023-10-28 22:19:39,121      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 22:19:40,076      INFO  obico.app - print event: PrintStarted (1698527978)
2023-10-28 22:20:27,506      INFO  obico.app - detected state change: Printing -> Offline
2023-10-28 22:20:58,563      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 22:45:23,952      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 22:45:30,082      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 22:46:03,191   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-10-28 22:46:03,193      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 22:46:03,198   WARNING  obico.ws - WS Closed - None - None
2023-10-28 22:48:03,453   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-10-28 22:48:03,467      INFO  obico.moonraker_conn - connection is open
2023-10-28 22:48:03,629      INFO  obico.moonraker_conn - Klippy ready
2023-10-28 22:48:03,884      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 22:53:07,163   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-10-28 22:53:07,165      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 22:53:07,170   WARNING  obico.ws - WS Closed - None - None
2023-10-28 22:55:07,413   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-10-28 22:55:07,422      INFO  obico.moonraker_conn - connection is open
2023-10-28 22:55:07,612      INFO  obico.moonraker_conn - Klippy ready
2023-10-28 22:55:07,863      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 23:02:00,559      INFO  obico.app - detected state change: Operational -> Offline
2023-10-28 23:02:08,255      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 23:02:19,036      INFO  obico.app - detected state change: Operational -> Printing
2023-10-28 23:02:19,982      INFO  obico.app - print event: PrintStarted (1698530538)
2023-10-28 23:09:28,271      INFO  obico.app - detected state change: Printing -> Operational
2023-10-28 23:09:28,271      INFO  obico.app - print event: PrintCancelled (1698530538)
2023-10-28 23:09:28,773      INFO  obico.app - print event: PrintFailed (1698530538)
2023-10-28 22:17:26,312      INFO  obico.app - Fetching linked printer...
2023-10-28 22:17:31,499      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer'}
2023-10-28 22:17:31,718   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-28 22:17:31,719   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-28 22:17:31,739      INFO  obico.moonraker_conn - connection is open
2023-10-28 22:17:31,894      INFO  obico.moonraker_conn - Klippy ready
2023-10-28 22:17:32,791   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 36382}, sender='moonrakerconn')
2023-10-28 22:17:32,793      INFO  obico.janus - Starting webcam streamer
2023-10-28 22:17:32,794      INFO  obico.app - detected state change: Offline -> Operational
2023-10-28 22:17:33,813      INFO  backoff - Backing off wait_for_janus(...) for 0.9s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-10-30 16:49:12,560      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 16:49:12,759      INFO  obico.app - print event: PrintStarted (1698684552)
2023-10-30 16:56:28,383      INFO  backoff - Backing off capture_jpeg(...) for 0.7s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-30 16:56:29,090      INFO  backoff - Backing off capture_jpeg(...) for 0.9s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-30 16:56:30,015     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-10-30 16:56:30,016   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-10-30 16:56:30,322      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 16:56:30,325      INFO  obico.app - print event: PrintCancelled (1698684552)
2023-10-30 16:56:30,827      INFO  obico.app - print event: PrintFailed (1698684552)
2023-10-30 16:57:15,331      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 16:58:36,251      INFO  obico.app - detected state change: Offline -> Printing
2023-10-30 17:03:52,213      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 17:03:52,215      INFO  obico.app - print event: PrintCancelled (1698685115)
2023-10-30 17:03:52,716      INFO  obico.app - print event: PrintFailed (1698685115)
2023-10-30 17:07:09,064      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 17:07:16,806      INFO  obico.app - detected state change: Offline -> Printing
2023-10-30 17:11:55,601      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 17:11:55,604      INFO  obico.app - print event: PrintCancelled (1698685636)
2023-10-30 17:11:56,106      INFO  obico.app - print event: PrintFailed (1698685636)
2023-10-30 17:12:03,535      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 17:12:26,269      INFO  obico.app - detected state change: Offline -> Operational
2023-10-30 17:15:23,595      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 17:15:23,734      INFO  obico.app - print event: PrintStarted (1698686123)
2023-10-30 17:19:54,648      INFO  obico.app - detected state change: Printing -> Paused
2023-10-30 17:19:54,649      INFO  obico.app - print event: PrintPaused (1698686123)
2023-10-30 17:20:24,733      INFO  obico.app - detected state change: Paused -> Printing
2023-10-30 17:20:24,734      INFO  obico.app - print event: PrintResumed (1698686123)
2023-10-30 17:21:07,623      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 17:21:07,623      INFO  obico.app - print event: PrintCancelled (1698686123)
2023-10-30 17:21:08,125      INFO  obico.app - print event: PrintFailed (1698686123)
2023-10-30 17:21:19,169      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 17:21:19,327      INFO  obico.app - print event: PrintStarted (1698686478)
2023-10-30 17:39:50,925      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 17:39:50,926      INFO  obico.app - print event: PrintCancelled (1698686478)
2023-10-30 17:39:51,428      INFO  obico.app - print event: PrintFailed (1698686478)
2023-10-30 17:40:02,658      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 17:40:22,150      INFO  obico.app - detected state change: Offline -> Operational
2023-10-30 17:42:14,257      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 17:42:14,396      INFO  obico.app - print event: PrintStarted (1698687734)
2023-10-30 17:52:08,246      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 17:52:08,247      INFO  obico.app - print event: PrintCancelled (1698687734)
2023-10-30 17:52:08,749      INFO  obico.app - print event: PrintFailed (1698687734)
2023-10-30 21:51:04,137      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 21:51:22,117      INFO  obico.app - detected state change: Offline -> Printing
2023-10-30 21:59:52,852      INFO  obico.app - detected state change: Printing -> Paused
2023-10-30 21:59:52,855      INFO  obico.app - print event: PrintPaused (1698702681)
2023-10-30 22:03:24,522      INFO  obico.app - detected state change: Paused -> Operational
2023-10-30 22:03:24,523      INFO  obico.app - print event: PrintCancelled (1698702681)
2023-10-30 22:03:25,026      INFO  obico.app - print event: PrintFailed (1698702681)
2023-10-30 22:03:36,557      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 22:03:36,714      INFO  obico.app - print event: PrintStarted (1698703416)
2023-10-30 22:40:39,722      INFO  obico.app - detected state change: Printing -> Paused
2023-10-30 22:40:39,724      INFO  obico.app - print event: PrintPaused (1698703416)
2023-10-30 22:41:09,810      INFO  obico.app - detected state change: Paused -> Printing
2023-10-30 22:41:09,812      INFO  obico.app - print event: PrintResumed (1698703416)
2023-10-30 23:11:57,547      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 23:11:57,548      INFO  obico.app - print event: PrintCancelled (1698703416)
2023-10-30 23:11:58,049      INFO  obico.app - print event: PrintFailed (1698703416)
2023-10-30 23:36:25,536      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 23:36:25,691      INFO  obico.app - print event: PrintStarted (1698708985)
2023-10-30 23:43:45,606      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 23:43:45,607      INFO  obico.app - print event: PrintCancelled (1698708985)
2023-10-30 23:43:46,109      INFO  obico.app - print event: PrintFailed (1698708985)
2023-10-30 23:44:01,121      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 23:44:15,858      INFO  obico.app - detected state change: Offline -> Operational
2023-10-30 23:44:23,882      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 23:44:24,107      INFO  obico.app - print event: PrintStarted (1698709463)
2023-10-30 23:48:35,372      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 23:48:35,373      INFO  obico.app - print event: PrintCancelled (1698709463)
2023-10-30 23:48:35,875      INFO  obico.app - print event: PrintFailed (1698709463)
2023-10-30 23:50:41,451      INFO  obico.app - detected state change: Operational -> Offline
2023-10-30 23:50:52,659      INFO  obico.app - detected state change: Offline -> Printing
2023-10-30 23:55:39,746      INFO  obico.app - detected state change: Printing -> Operational
2023-10-30 23:55:39,748      INFO  obico.app - print event: PrintCancelled (1698709852)
2023-10-30 23:55:40,250      INFO  obico.app - print event: PrintFailed (1698709852)
2023-10-30 23:57:27,848      INFO  obico.app - detected state change: Operational -> Printing
2023-10-30 23:57:28,006      INFO  obico.app - print event: PrintStarted (1698710247)
2023-10-31 00:03:28,137      INFO  obico.app - detected state change: Printing -> Paused
2023-10-31 00:03:28,138      INFO  obico.app - print event: PrintPaused (1698710247)
2023-10-31 00:03:30,893      INFO  obico.app - detected state change: Paused -> Operational
2023-10-31 00:03:30,895      INFO  obico.app - print event: PrintCancelled (1698710247)
2023-10-31 00:03:31,396      INFO  obico.app - print event: PrintFailed (1698710247)
2023-10-31 00:03:34,005      INFO  obico.app - detected state change: Operational -> Offline
2023-10-31 00:04:01,288      INFO  obico.app - detected state change: Offline -> Operational
2023-10-31 00:05:53,904      INFO  obico.app - detected state change: Operational -> Printing
2023-10-31 00:05:54,146      INFO  obico.app - print event: PrintStarted (1698710753)
2023-10-31 00:17:24,789      INFO  obico.app - Fetching linked printer...
2023-10-31 00:17:24,954      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-10-31 00:17:25,085   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-10-31 00:17:25,089   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-31 00:17:25,130      INFO  backoff - Backing off ensure_api_key(...) for 0.0s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5ed2088>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-10-31 00:17:25,138   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-31 00:17:25,147      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5ed26b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-10-31 00:17:25,957   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-10-31 00:17:25,976      INFO  obico.moonraker_conn - connection is open
2023-10-31 00:17:25,988      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-10-31 00:17:26,137      INFO  obico.janus - Starting webcam streamer
2023-10-31 00:17:26,426      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.0s (False)
2023-10-31 00:17:27,427      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.8s (False)
2023-10-31 00:17:29,273      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.8s (False)
2023-10-31 00:17:32,303      INFO  obico.moonraker_conn - Klippy ready
2023-10-31 00:17:32,553      INFO  obico.app - detected state change: Offline -> Operational
2023-11-02 01:12:59,117      INFO  obico.app - detected state change: Operational -> Printing
2023-11-02 01:12:59,277      INFO  obico.app - print event: PrintStarted (1698887578)
2023-11-02 01:20:52,493      INFO  obico.app - detected state change: Printing -> Paused
2023-11-02 01:20:52,494      INFO  obico.app - print event: PrintPaused (1698887578)
2023-11-02 01:21:00,276      INFO  obico.app - detected state change: Paused -> Operational
2023-11-02 01:21:00,277      INFO  obico.app - print event: PrintCancelled (1698887578)
2023-11-02 01:21:00,779      INFO  obico.app - print event: PrintFailed (1698887578)
2023-11-02 01:46:46,831      INFO  obico.app - Fetching linked printer...
2023-11-02 01:46:47,020      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-02 01:46:47,148   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-02 01:46:47,152   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-02 01:46:47,199      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5af9148>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-02 01:46:48,027   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-02 01:46:48,046      INFO  obico.moonraker_conn - connection is open
2023-11-02 01:46:48,058      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-11-02 01:46:48,199      INFO  obico.janus - Starting webcam streamer
2023-11-02 01:46:48,336      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-11-02 01:46:48,622      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.4s (False)
2023-11-02 01:46:52,285      INFO  obico.moonraker_conn - Klippy ready
2023-11-02 01:46:52,300   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 75300}, sender='moonrakerconn')
2023-11-02 01:46:52,536      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 04:55:31,759      INFO  obico.app - detected state change: Operational -> Printing
2023-11-05 04:55:31,940      INFO  obico.app - print event: PrintStarted (1699160131)
2023-11-05 13:19:43,069      INFO  obico.app - detected state change: Printing -> Operational
2023-11-05 13:19:43,071      INFO  obico.app - print event: PrintDone (1699160131)
2023-11-05 13:53:13,045      INFO  obico.app - Fetching linked printer...
2023-11-05 13:53:18,199      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-05 13:53:18,375   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-05 13:53:18,376   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-05 13:53:18,397      INFO  obico.moonraker_conn - connection is open
2023-11-05 13:53:18,406      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-11-05 13:53:18,740      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-05 13:53:19,450      INFO  obico.janus - Starting webcam streamer
2023-11-05 13:53:19,844      INFO  obico.moonraker_conn - Klippy ready
2023-11-05 13:53:20,092      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 13:53:20,592   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 65111}, sender='moonrakerconn')
2023-11-05 14:19:02,811      INFO  obico.app - Fetching linked printer...
2023-11-05 14:19:04,002      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-05 14:19:04,146   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-05 14:19:04,148   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-05 14:19:04,171      INFO  obico.moonraker_conn - connection is open
2023-11-05 14:19:04,181      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.5s (False)
2023-11-05 14:19:04,673      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-11-05 14:19:05,079      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.1s (False)
2023-11-05 14:19:05,205      INFO  obico.janus - Starting webcam streamer
2023-11-05 14:19:08,184      INFO  obico.moonraker_conn - Klippy ready
2023-11-05 14:19:08,199   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 86577}, sender='moonrakerconn')
2023-11-05 14:19:08,435      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 15:31:49,151      INFO  obico.app - Fetching linked printer...
2023-11-05 15:31:50,374      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-05 15:31:50,544   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-05 15:31:50,549   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-05 15:31:50,574      INFO  obico.moonraker_conn - connection is open
2023-11-05 15:31:50,586      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.5s (False)
2023-11-05 15:31:51,104      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.1s (False)
2023-11-05 15:31:51,603      INFO  obico.janus - Starting webcam streamer
2023-11-05 15:31:52,326      INFO  obico.moonraker_conn - Klippy ready
2023-11-05 15:31:52,571      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 15:31:52,823   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 39219}, sender='moonrakerconn')
2023-11-05 16:40:55,551      INFO  obico.app - detected state change: Operational -> Offline
2023-11-05 16:41:10,557      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 16:41:20,420      INFO  backoff - Backing off capture_jpeg(...) for 0.7s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-05 16:41:21,129      INFO  backoff - Backing off capture_jpeg(...) for 1.3s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-05 16:41:22,419     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-05 16:41:22,420   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-05 16:42:42,789      INFO  obico.app - detected state change: Operational -> Offline
2023-11-05 16:43:10,615      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 16:58:37,085      INFO  obico.app - detected state change: Operational -> Printing
2023-11-05 16:58:37,251      INFO  obico.app - print event: PrintStarted (1699203516)
2023-11-05 16:59:18,450      INFO  obico.app - detected state change: Printing -> Offline
2023-11-05 16:59:48,809      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 17:07:48,631      INFO  obico.app - detected state change: Operational -> Printing
2023-11-05 17:07:48,875      INFO  obico.app - print event: PrintStarted (1699204068)
2023-11-05 18:35:43,638      INFO  obico.app - detected state change: Printing -> Operational
2023-11-05 18:35:43,639      INFO  obico.app - print event: PrintDone (1699204068)
2023-11-05 18:36:01,560      INFO  obico.app - detected state change: Operational -> Offline
2023-11-05 18:36:14,525      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 18:55:01,345      INFO  obico.app - detected state change: Operational -> Printing
2023-11-05 18:55:01,570      INFO  obico.app - print event: PrintStarted (1699210501)
2023-11-05 20:33:48,077      INFO  obico.app - detected state change: Printing -> Operational
2023-11-05 20:33:48,079      INFO  obico.app - print event: PrintDone (1699210501)
2023-11-05 22:11:45,676      INFO  obico.app - detected state change: Operational -> Offline
2023-11-05 22:11:54,843      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 22:12:03,302      INFO  obico.app - Fetching linked printer...
2023-11-05 22:12:03,472      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-05 22:12:03,639   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-05 22:12:03,641   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-05 22:12:03,715      INFO  obico.moonraker_conn - connection is open
2023-11-05 22:12:03,742      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.7s (False)
2023-11-05 22:12:04,517      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-05 22:12:04,697      INFO  obico.janus - Starting webcam streamer
2023-11-05 22:12:05,475      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.1s (False)
2023-11-05 22:12:06,925   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-05 22:12:07,623      INFO  backoff - Backing off get_server_info(...) for 0.7s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /server/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf50cfac0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-05 22:12:08,326      INFO  backoff - Backing off get_server_info(...) for 0.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /server/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf50a0088>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-05 22:12:08,531      INFO  backoff - Backing off get_server_info(...) for 3.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /server/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf50a0538>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-05 22:12:12,354      INFO  backoff - Backing off get_server_info(...) for 8.0s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /server/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf50cfd90>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-05 22:12:20,475      INFO  obico.moonraker_conn - Klippy ready
2023-11-05 22:12:20,497      INFO  obico.moonraker_conn - connection is open
2023-11-05 22:12:20,579      INFO  obico.moonraker_conn - Klippy ready
2023-11-05 22:12:20,588   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 39646}, sender='moonrakerconn')
2023-11-05 22:12:20,733      INFO  obico.app - detected state change: Offline -> Operational
2023-11-05 22:12:20,762   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 50182}, sender='moonrakerconn')
2023-11-05 22:16:37,313      INFO  obico.app - detected state change: Operational -> Printing
2023-11-05 22:16:37,492      INFO  obico.app - print event: PrintStarted (1699222597)
2023-11-05 23:43:43,633      INFO  obico.app - detected state change: Printing -> Paused
2023-11-05 23:43:43,634      INFO  obico.app - print event: PrintPaused (1699222597)
2023-11-05 23:43:52,920      INFO  obico.app - detected state change: Paused -> Operational
2023-11-05 23:43:52,921      INFO  obico.app - print event: PrintCancelled (1699222597)
2023-11-05 23:43:53,425      INFO  obico.app - print event: PrintFailed (1699222597)
2023-11-05 23:47:29,612      INFO  obico.app - detected state change: Operational -> Printing
2023-11-05 23:47:29,770      INFO  obico.app - print event: PrintStarted (1699228049)
2023-11-06 12:11:48,239      INFO  obico.app - detected state change: Printing -> Operational
2023-11-06 12:11:48,240      INFO  obico.app - print event: PrintDone (1699228049)
2023-11-06 14:34:56,484      INFO  obico.app - detected state change: Operational -> Printing
2023-11-06 14:34:56,811      INFO  obico.app - print event: PrintStarted (1699281296)
2023-11-06 22:12:03,746   WARNING  obico.ws - WS Closed - None - None
2023-11-06 23:01:16,264      INFO  obico.app - detected state change: Printing -> Operational
2023-11-06 23:01:16,266      INFO  obico.app - print event: PrintDone (1699281296)
2023-11-06 22:46:32,087      INFO  obico.app - Fetching linked printer...
2023-11-06 22:46:33,162      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-06 22:46:33,304   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-06 22:46:33,306   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-06 22:46:33,331      INFO  obico.moonraker_conn - connection is open
2023-11-06 22:46:33,345      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-06 22:46:34,247      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.7s (False)
2023-11-06 22:46:34,362      INFO  obico.janus - Starting webcam streamer
2023-11-06 22:46:35,942      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-06 22:46:36,952      INFO  obico.moonraker_conn - Klippy ready
2023-11-06 22:46:36,967   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 19580}, sender='moonrakerconn')
2023-11-06 22:46:37,195      INFO  obico.app - detected state change: Offline -> Operational
2023-11-06 23:45:37,778      INFO  obico.app - detected state change: Operational -> Offline
2023-11-06 23:46:06,555      INFO  obico.app - detected state change: Offline -> Operational
2023-11-06 23:50:00,117      INFO  obico.app - detected state change: Operational -> Offline
2023-11-06 23:50:06,583      INFO  obico.app - detected state change: Offline -> Operational
2023-11-06 23:49:27,133      INFO  obico.app - Fetching linked printer...
2023-11-06 23:49:28,321      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-06 23:49:28,466   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-06 23:49:28,468   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-06 23:49:28,497      INFO  obico.moonraker_conn - connection is open
2023-11-06 23:49:28,510      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.6s (False)
2023-11-06 23:49:29,145      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.6s (False)
2023-11-06 23:49:29,522      INFO  obico.janus - Starting webcam streamer
2023-11-06 23:49:30,992      INFO  obico.moonraker_conn - Klippy ready
2023-11-06 23:49:31,011   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 36125}, sender='moonrakerconn')
2023-11-06 23:49:31,241      INFO  obico.app - detected state change: Offline -> Operational
2023-11-07 00:21:41,446      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 00:21:41,699      INFO  obico.app - print event: PrintStarted (1699316501)
2023-11-07 00:37:46,797      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 00:37:46,798      INFO  obico.app - print event: PrintCancelled (1699316501)
2023-11-07 00:37:47,300      INFO  obico.app - print event: PrintFailed (1699316501)
2023-11-07 00:40:42,322      INFO  backoff - Backing off capture_jpeg(...) for 0.9s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-07 00:40:43,246      INFO  backoff - Backing off capture_jpeg(...) for 1.2s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-07 00:40:44,445     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-07 00:40:44,446   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-07 00:42:40,782      INFO  obico.app - detected state change: Operational -> Offline
2023-11-07 00:42:47,231      INFO  obico.app - detected state change: Offline -> Operational
2023-11-07 00:42:55,000      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 00:42:55,158      INFO  obico.app - print event: PrintStarted (1699317774)
2023-11-07 02:15:43,481      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 02:15:43,481      INFO  obico.app - print event: PrintDone (1699317774)
2023-11-07 02:38:46,094      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 02:38:46,258      INFO  obico.app - print event: PrintStarted (1699324725)
2023-11-07 02:41:04,254      INFO  obico.app - detected state change: Printing -> Offline
2023-11-07 02:41:35,075      INFO  obico.app - detected state change: Offline -> Operational
2023-11-07 02:41:52,373      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 02:41:52,506      INFO  obico.app - print event: PrintStarted (1699324912)
2023-11-07 04:47:17,589      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 04:47:17,590      INFO  obico.app - print event: PrintDone (1699324912)
2023-11-07 05:01:38,618      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 05:01:38,801      INFO  obico.app - print event: PrintStarted (1699333298)
2023-11-07 09:23:17,146      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 09:23:17,147      INFO  obico.app - print event: PrintDone (1699333298)
2023-11-07 13:55:23,322      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 13:55:23,491      INFO  obico.app - print event: PrintStarted (1699365323)
2023-11-07 14:41:57,008      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 14:41:57,011      INFO  obico.app - print event: PrintDone (1699365323)
2023-11-07 14:59:30,289      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 14:59:30,463      INFO  obico.app - print event: PrintStarted (1699369170)
2023-11-07 15:39:55,727      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 15:39:55,728      INFO  obico.app - print event: PrintDone (1699369170)
2023-11-07 15:43:09,841      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 15:43:10,000      INFO  obico.app - print event: PrintStarted (1699371789)
2023-11-07 15:44:09,500      INFO  obico.app - detected state change: Printing -> Offline
2023-11-07 15:44:39,962      INFO  obico.app - detected state change: Offline -> Operational
2023-11-07 15:46:01,720      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 15:46:01,868      INFO  obico.app - print event: PrintStarted (1699371961)
2023-11-07 16:28:19,675      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 16:28:19,677      INFO  obico.app - print event: PrintDone (1699371961)
2023-11-07 16:46:51,920      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 16:46:52,110      INFO  obico.app - print event: PrintStarted (1699375611)
2023-11-07 17:34:52,575      INFO  obico.app - detected state change: Printing -> Operational
2023-11-07 17:34:52,576      INFO  obico.app - print event: PrintDone (1699375611)
2023-11-07 18:28:19,164      INFO  obico.app - detected state change: Operational -> Printing
2023-11-07 18:28:19,338      INFO  obico.app - print event: PrintStarted (1699381698)
                                                                                                                                                                                 2023-11-07 21:17:26,619      INFO  obico.app - Fetching linked printer...
2023-11-07 21:17:27,764      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-07 21:17:27,909   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-07 21:17:27,911   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-07 21:17:27,933      INFO  obico.moonraker_conn - connection is open
2023-11-07 21:17:27,946      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-11-07 21:17:28,226      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-07 21:17:28,964      INFO  obico.janus - Starting webcam streamer
2023-11-07 21:17:29,351      INFO  obico.moonraker_conn - Klippy ready
2023-11-07 21:17:29,392   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 65128}, sender='moonrakerconn')
2023-11-07 21:17:29,565      INFO  obico.app - detected state change: Offline -> Operational
2023-11-10 04:07:54,141      INFO  obico.app - detected state change: Operational -> Printing
2023-11-10 04:07:54,290      INFO  obico.app - print event: PrintStarted (1699589273)
2023-11-10 04:36:58,403      INFO  obico.app - detected state change: Printing -> Operational
2023-11-10 04:36:58,403      INFO  obico.app - print event: PrintDone (1699589273)
2023-11-10 05:09:32,865      INFO  obico.app - detected state change: Operational -> Offline
2023-11-10 05:09:33,030      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-10 05:09:33,092      INFO  backoff - Backing off capture_jpeg(...) for 0.2s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-10 05:09:33,261     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-10 05:09:33,262   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-10 05:10:00,733      INFO  obico.app - detected state change: Offline -> Operational
2023-11-10 05:10:50,930      INFO  obico.app - detected state change: Operational -> Offline
2023-11-10 05:11:00,910      INFO  obico.app - detected state change: Offline -> Operational
2023-11-10 05:16:17,337      INFO  obico.app - detected state change: Operational -> Printing
2023-11-10 05:16:17,503      INFO  obico.app - print event: PrintStarted (1699593377)
2023-11-10 05:45:07,609      INFO  obico.app - detected state change: Printing -> Operational
2023-11-10 05:45:07,611      INFO  obico.app - print event: PrintDone (1699593377)
2023-11-10 06:01:09,891      INFO  obico.app - detected state change: Operational -> Printing
2023-11-10 06:01:10,089      INFO  obico.app - print event: PrintStarted (1699596069)
2023-11-10 07:53:33,087      INFO  obico.app - detected state change: Printing -> Operational
2023-11-10 07:53:33,088      INFO  obico.app - print event: PrintDone (1699596069)
2023-11-10 13:44:11,992      INFO  obico.app - detected state change: Operational -> Printing
2023-11-10 13:44:12,194      INFO  obico.app - print event: PrintStarted (1699623851)
2023-11-10 15:24:46,481      INFO  obico.app - detected state change: Printing -> Operational
2023-11-10 15:24:46,482      INFO  obico.app - print event: PrintDone (1699623851)
2023-11-10 19:25:18,326      INFO  obico.app - Fetching linked printer...
2023-11-10 19:25:18,484      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-10 19:25:18,621   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-10 19:25:18,624   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-10 19:25:18,664      INFO  backoff - Backing off ensure_api_key(...) for 0.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5bca178>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-10 19:25:18,896   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-10 19:25:18,920      INFO  obico.moonraker_conn - connection is open
2023-11-10 19:25:18,933      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-11-10 19:25:19,257      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-11-10 19:25:19,350      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.0s (False)
2023-11-10 19:25:19,674      INFO  obico.janus - Starting webcam streamer
2023-11-10 19:25:20,317      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.7s (False)
2023-11-10 19:25:24,034      INFO  obico.moonraker_conn - Klippy ready
2023-11-10 19:25:24,283      INFO  obico.app - detected state change: Offline -> Operational
2023-11-10 20:54:26,926      INFO  obico.app - detected state change: Operational -> Printing
2023-11-10 20:54:27,118      INFO  obico.app - print event: PrintStarted (1699649666)
2023-11-10 22:31:41,745      INFO  obico.app - detected state change: Printing -> Operational
2023-11-10 22:31:41,751      INFO  obico.app - print event: PrintDone (1699649666)
2023-11-11 00:25:55,884      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 00:25:56,043      INFO  obico.app - print event: PrintStarted (1699662355)
2023-11-11 01:17:19,463      INFO  obico.app - detected state change: Printing -> Operational
2023-11-11 01:17:19,465      INFO  obico.app - print event: PrintDone (1699662355)
2023-11-11 01:49:27,114      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 01:49:27,273      INFO  obico.app - print event: PrintStarted (1699667366)
2023-11-11 02:34:37,541      INFO  obico.app - detected state change: Printing -> Operational
2023-11-11 02:34:37,542      INFO  obico.app - print event: PrintDone (1699667366)
2023-11-11 02:38:39,297      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 02:38:39,480      INFO  obico.app - print event: PrintStarted (1699670319)
2023-11-11 03:03:03,243      INFO  obico.app - detected state change: Printing -> Paused
2023-11-11 03:03:03,244      INFO  obico.app - print event: PrintPaused (1699670319)
2023-11-11 03:03:17,043      INFO  obico.app - detected state change: Paused -> Operational
2023-11-11 03:03:17,044      INFO  obico.app - print event: PrintCancelled (1699670319)
2023-11-11 03:03:17,547      INFO  obico.app - print event: PrintFailed (1699670319)
2023-11-11 03:15:58,215      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 03:15:58,366      INFO  obico.app - print event: PrintStarted (1699672557)
2023-11-11 05:46:47,588      INFO  obico.app - detected state change: Printing -> Operational
2023-11-11 05:46:47,590      INFO  obico.app - print event: PrintDone (1699672557)
2023-11-11 05:47:38,988      INFO  obico.app - detected state change: Operational -> Offline
2023-11-11 05:47:47,997      INFO  obico.app - detected state change: Offline -> Operational
2023-11-11 05:48:17,843      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 05:48:18,003      INFO  obico.app - print event: PrintStarted (1699681697)
2023-11-11 05:50:38,753      INFO  obico.app - detected state change: Printing -> Offline
2023-11-11 05:50:39,083      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-11 05:50:39,212      INFO  backoff - Backing off capture_jpeg(...) for 0.7s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-11 05:50:39,941     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-11 05:50:39,942   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-11 05:51:09,129      INFO  obico.app - detected state change: Offline -> Operational
2023-11-11 05:54:41,667      INFO  obico.app - detected state change: Operational -> Offline
2023-11-11 05:54:56,650      INFO  obico.app - detected state change: Offline -> Printing
2023-11-11 12:19:44,276      INFO  obico.app - detected state change: Printing -> Operational
2023-11-11 12:19:44,277      INFO  obico.app - print event: PrintDone (1699682096)
2023-11-11 15:52:09,869      INFO  obico.app - detected state change: Operational -> Offline
2023-11-11 15:52:29,155      INFO  obico.app - detected state change: Offline -> Operational
2023-11-11 15:57:12,560      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 15:57:12,811      INFO  obico.app - print event: PrintStarted (1699718232)
2023-11-11 19:23:29,025      INFO  obico.app - detected state change: Printing -> Operational
2023-11-11 19:23:29,025      INFO  obico.app - print event: PrintDone (1699718232)
2023-11-11 19:54:32,501   WARNING  obico.ws - WS Closed - None - None
2023-11-11 20:17:55,661      INFO  obico.app - detected state change: Operational -> Printing
2023-11-11 20:17:55,929      INFO  obico.app - print event: PrintStarted (1699733875)
2023-11-11 21:40:33,265      INFO  obico.app - detected state change: Printing -> Operational
2023-11-11 21:40:33,266      INFO  obico.app - print event: PrintDone (1699733875)
2023-11-12 01:11:31,026      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 01:11:31,207      INFO  obico.app - print event: PrintStarted (1699751490)
2023-11-12 01:59:58,556      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 01:59:58,557      INFO  obico.app - print event: PrintDone (1699751490)
2023-11-12 02:04:38,457      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 02:04:38,693      INFO  obico.app - print event: PrintStarted (1699754678)
2023-11-12 03:15:18,934      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 03:15:18,935      INFO  obico.app - print event: PrintDone (1699754678)
2023-11-12 03:22:51,414      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 03:22:51,584      INFO  obico.app - print event: PrintStarted (1699759371)
2023-11-12 03:50:29,035      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 03:50:29,035      INFO  obico.app - print event: PrintCancelled (1699759371)
2023-11-12 03:50:29,537      INFO  obico.app - print event: PrintFailed (1699759371)
2023-11-12 03:52:06,698      INFO  obico.app - detected state change: Operational -> Offline
2023-11-12 03:52:29,248      INFO  obico.app - detected state change: Offline -> Operational
2023-11-12 03:53:13,141      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 03:53:13,305      INFO  obico.app - print event: PrintStarted (1699761192)
2023-11-12 04:48:28,782      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 04:48:28,783      INFO  obico.app - print event: PrintDone (1699761192)
2023-11-12 04:21:09,108      INFO  obico.app - Fetching linked printer...
2023-11-12 04:21:09,307      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-12 04:21:09,445   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-12 04:21:09,447   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-12 04:21:09,492      INFO  backoff - Backing off ensure_api_key(...) for 0.7s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf59f90b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-12 04:21:10,163   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-12 04:21:10,184      INFO  obico.moonraker_conn - connection is open
2023-11-12 04:21:10,196      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-12 04:21:10,502      INFO  obico.janus - Starting webcam streamer
2023-11-12 04:21:11,116      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.1s (False)
2023-11-12 04:21:11,517      INFO  backoff - Backing off wait_for_janus(...) for 0.3s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-11-12 04:21:12,460      INFO  obico.moonraker_conn - Klippy ready
2023-11-12 04:21:12,704      INFO  obico.app - detected state change: Offline -> Operational
2023-11-12 04:21:12,803      INFO  backoff - Backing off wait_for_janus(...) for 1.0s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-11-12 04:21:14,794      INFO  backoff - Backing off wait_for_janus(...) for 1.6s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-11-12 04:59:45,756      INFO  obico.app - detected state change: Operational -> Offline
2023-11-12 04:59:50,475      INFO  obico.app - detected state change: Offline -> Operational
2023-11-12 05:00:42,139      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 05:00:42,346      INFO  obico.app - print event: PrintStarted (1699765241)
2023-11-12 11:33:03,019      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 11:33:03,020      INFO  obico.app - print event: PrintDone (1699765241)
2023-11-12 15:17:26,813      INFO  obico.app - Fetching linked printer...
2023-11-12 15:17:26,967      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-12 15:17:27,107   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-12 15:17:27,108   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-12 15:17:27,145      INFO  backoff - Backing off ensure_api_key(...) for 0.5s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5dfb0d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-12 15:17:27,643   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-12 15:17:27,664      INFO  obico.moonraker_conn - connection is open
2023-11-12 15:17:27,674      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.0s (False)
2023-11-12 15:17:27,728      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.6s (False)
2023-11-12 15:17:28,164      INFO  obico.janus - Starting webcam streamer
2023-11-12 15:17:28,377      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.0s (False)
2023-11-12 15:17:29,575      INFO  obico.moonraker_conn - Klippy ready
2023-11-12 15:17:29,595   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 12707}, sender='moonrakerconn')
2023-11-12 15:17:29,809      INFO  obico.app - detected state change: Offline -> Operational
2023-11-12 16:26:14,552      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 16:26:14,732      INFO  obico.app - print event: PrintStarted (1699806374)
2023-11-12 17:35:26,330      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 17:35:26,333      INFO  obico.app - print event: PrintDone (1699806374)
2023-11-12 18:08:45,406      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 18:08:45,573      INFO  obico.app - print event: PrintStarted (1699812525)
2023-11-12 19:08:06,964      INFO  obico.app - detected state change: Printing -> Offline
2023-11-12 19:11:37,593     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 215, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 227, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 267, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-11-12 19:12:00,544      INFO  obico.app - detected state change: Offline -> Printing
2023-11-12 20:28:19,742      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 20:28:19,743      INFO  obico.app - print event: PrintDone (1699816320)
2023-11-12 21:03:25,338      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 21:03:26,101      INFO  obico.app - print event: PrintStarted (1699823005)
2023-11-12 21:34:42,391      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 21:34:42,392      INFO  obico.app - print event: PrintCancelled (1699823005)
2023-11-12 21:34:42,894      INFO  obico.app - print event: PrintFailed (1699823005)
2023-11-12 21:44:18,705      INFO  obico.app - detected state change: Operational -> Offline
2023-11-12 21:44:43,212      INFO  obico.app - detected state change: Offline -> Operational
2023-11-12 21:46:25,855      INFO  obico.app - detected state change: Operational -> Offline
2023-11-12 21:46:43,366      INFO  obico.app - detected state change: Offline -> Operational
2023-11-12 21:48:30,199      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 21:48:30,400      INFO  obico.app - print event: PrintStarted (1699825709)
2023-11-12 22:25:28,615      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 22:25:28,618      INFO  obico.app - print event: PrintDone (1699825709)
2023-11-12 23:01:36,724      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 23:01:37,684      INFO  obico.app - print event: PrintStarted (1699830096)
2023-11-12 23:39:44,771      INFO  obico.app - detected state change: Printing -> Operational
2023-11-12 23:39:44,772      INFO  obico.app - print event: PrintDone (1699830096)
2023-11-12 23:53:33,360      INFO  obico.app - detected state change: Operational -> Printing
2023-11-12 23:53:33,523      INFO  obico.app - print event: PrintStarted (1699833213)
2023-11-13 01:02:38,155   WARNING  obico.ws - WS Closed - None - None
2023-11-13 02:38:39,303      INFO  obico.app - detected state change: Printing -> Operational
2023-11-13 02:38:39,305      INFO  obico.app - print event: PrintDone (1699833213)
2023-11-13 03:35:23,616   WARNING  obico.ws - WS Closed - None - None
2023-11-13 04:19:45,539      INFO  obico.app - detected state change: Operational -> Printing
2023-11-13 04:19:45,691      INFO  obico.app - print event: PrintStarted (1699849185)
2023-11-13 04:35:15,771   WARNING  obico.webcam_capture - Failed to capture jpeg - 502 Server Error: Bad Gateway for url: https://app.obico.io/api/v1/octo/pic/
2023-11-13 06:50:23,378      INFO  obico.app - detected state change: Printing -> Offline
2023-11-13 14:28:12,639      INFO  obico.app - Fetching linked printer...
2023-11-13 14:28:12,906      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-13 14:28:13,060   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-13 14:28:13,062   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-13 14:28:13,129      INFO  backoff - Backing off ensure_api_key(...) for 1.0s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5d78148>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-13 14:28:14,063   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-13 14:28:14,082   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-13 14:28:14,103      INFO  obico.moonraker_conn - connection is open
2023-11-13 14:28:14,113      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-11-13 14:28:14,544      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.7s (False)
2023-11-13 14:28:15,118      INFO  obico.janus - Starting webcam streamer
2023-11-13 14:28:15,469      INFO  obico.moonraker_conn - Klippy ready
2023-11-13 14:28:15,496   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 48704}, sender='moonrakerconn')
2023-11-13 14:28:15,714      INFO  obico.app - detected state change: Offline -> Operational
2023-11-13 15:31:42,391      INFO  obico.app - detected state change: Operational -> Offline
2023-11-13 15:31:47,071      INFO  obico.app - detected state change: Offline -> Operational
2023-11-13 15:32:08,712      INFO  obico.app - detected state change: Operational -> Offline
2023-11-13 15:32:11,410   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-13 15:32:11,414   WARNING  obico.ws - WS Closed - None - None
2023-11-13 15:34:11,692   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-13 15:34:11,706      INFO  obico.moonraker_conn - connection is open
2023-11-13 15:34:11,842      INFO  obico.moonraker_conn - Klippy ready
2023-11-13 15:34:11,868   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 9333}, sender='moonrakerconn')
2023-11-13 15:34:12,094      INFO  obico.app - detected state change: Offline -> Printing
2023-11-13 16:44:16,604      INFO  obico.app - detected state change: Printing -> Paused
2023-11-13 16:44:16,607      INFO  obico.app - print event: PrintPaused (1699889627)
2023-11-13 16:47:16,940      INFO  obico.app - detected state change: Paused -> Printing
2023-11-13 16:47:16,941      INFO  obico.app - print event: PrintResumed (1699889627)
2023-11-13 19:36:05,196   WARNING  obico.ws - WS Closed - None - None
2023-11-13 19:41:07,833   WARNING  obico.ws - WS Closed - None - None
2023-11-13 21:59:38,113      INFO  obico.app - detected state change: Printing -> Operational
2023-11-13 21:59:38,114      INFO  obico.app - print event: PrintDone (1699889627)
2023-11-13 22:26:29,280      INFO  backoff - Backing off capture_jpeg(...) for 0.5s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-13 22:26:29,792      INFO  backoff - Backing off capture_jpeg(...) for 1.0s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-13 22:26:30,817     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-13 22:26:30,818   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-13 22:33:19,455      INFO  obico.app - detected state change: Operational -> Printing
2023-11-13 22:33:19,605      INFO  obico.app - print event: PrintStarted (1699914799)
2023-11-13 22:52:17,041   WARNING  obico.ws - WS Closed - None - None
2023-11-14 03:56:44,010      INFO  obico.app - detected state change: Printing -> Operational
2023-11-14 03:56:44,012      INFO  obico.app - print event: PrintDone (1699914799)
2023-11-14 03:51:37,583      INFO  obico.app - Fetching linked printer...
2023-11-14 03:51:38,745      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-14 03:51:38,862   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-14 03:51:38,864   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-14 03:51:38,886      INFO  obico.moonraker_conn - connection is open
2023-11-14 03:51:38,900      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.6s (False)
2023-11-14 03:51:39,548      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-14 03:51:39,827      INFO  obico.moonraker_conn - Klippy ready
2023-11-14 03:51:39,933   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 74410}, sender='moonrakerconn')
2023-11-14 03:51:39,934      INFO  obico.janus - Starting webcam streamer
2023-11-14 03:51:40,073      INFO  obico.app - detected state change: Offline -> Operational
2023-11-14 14:20:29,907      INFO  obico.app - detected state change: Operational -> Printing
2023-11-14 14:20:30,053      INFO  obico.app - print event: PrintStarted (1699971629)
2023-11-14 15:00:21,882      INFO  obico.app - detected state change: Printing -> Operational
2023-11-14 15:00:21,883      INFO  obico.app - print event: PrintDone (1699971629)
2023-11-14 15:01:56,702      INFO  obico.app - detected state change: Operational -> Printing
2023-11-14 15:01:56,884      INFO  obico.app - print event: PrintStarted (1699974116)
2023-11-14 15:38:06,496      INFO  obico.app - detected state change: Printing -> Operational
2023-11-14 15:38:06,498      INFO  obico.app - print event: PrintDone (1699974116)
2023-11-14 17:17:25,428      INFO  obico.app - Fetching linked printer...
2023-11-14 17:17:26,628      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-14 17:17:26,753   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-14 17:17:26,755   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-14 17:17:26,776      INFO  obico.moonraker_conn - connection is open
2023-11-14 17:17:26,789      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.6s (False)
2023-11-14 17:17:27,412      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-11-14 17:17:27,809      INFO  obico.janus - Starting webcam streamer
2023-11-14 17:17:27,890      INFO  obico.moonraker_conn - Klippy ready
2023-11-14 17:17:27,921   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': "{'error': 'WebRequestError', 'message': 'Invalid argument'}"}, 'id': 69282}, sender='moonrakerconn')
2023-11-14 17:17:28,137      INFO  obico.app - detected state change: Offline -> Operational
2023-11-18 03:13:34,939      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 03:13:35,294      INFO  obico.app - print event: PrintStarted (1700277214)
2023-11-18 04:09:28,696      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 04:09:28,699      INFO  obico.app - print event: PrintDone (1700277214)
2023-11-18 04:32:48,207      INFO  obico.app - detected state change: Operational -> Offline
2023-11-18 04:33:00,473      INFO  obico.app - detected state change: Offline -> Operational
2023-11-18 04:36:11,346      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 04:36:11,546      INFO  obico.app - print event: PrintStarted (1700282171)
2023-11-18 05:10:37,940      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 05:10:37,942      INFO  obico.app - print event: PrintDone (1700282171)
2023-11-18 05:11:08,529      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 05:11:08,699      INFO  obico.app - print event: PrintStarted (1700284268)
2023-11-18 07:20:58,397      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 07:20:58,399      INFO  obico.app - print event: PrintDone (1700284268)
2023-11-18 16:45:35,710      INFO  obico.app - Fetching linked printer...
2023-11-18 16:45:35,858      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-18 16:45:35,865   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-18 16:45:35,867   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-18 16:45:35,904      INFO  obico.moonraker_conn - connection is open
2023-11-18 16:45:36,016      INFO  obico.moonraker_conn - Klippy ready
2023-11-18 16:45:36,911     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-11-18 16:45:36,921   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 503, 'message': 'Klippy Disconnected'}, 'id': 80571}, sender='moonrakerconn')
2023-11-18 16:45:36,915      INFO  obico.janus - Starting webcam streamer
2023-11-18 16:45:50,215   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-18 16:45:50,219   WARNING  obico.ws - WS Closed - None - None
2023-11-18 16:47:50,460   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-18 16:47:50,476      INFO  obico.moonraker_conn - connection is open
2023-11-18 16:47:50,622      INFO  obico.moonraker_conn - Klippy ready
2023-11-18 16:47:50,870      INFO  obico.app - detected state change: Offline -> Printing
2023-11-18 17:26:17,420      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 17:26:17,425      INFO  obico.app - print event: PrintDone (1700325991)
2023-11-18 17:33:13,003      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 17:33:13,206      INFO  obico.app - print event: PrintStarted (1700328792)
2023-11-18 18:18:21,774      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 18:18:21,776      INFO  obico.app - print event: PrintDone (1700328792)
2023-11-18 18:21:53,965      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 18:21:54,115      INFO  obico.app - print event: PrintStarted (1700331713)
2023-11-18 19:16:33,599      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 19:16:33,600      INFO  obico.app - print event: PrintDone (1700331713)
2023-11-18 19:53:25,798      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 19:53:25,973      INFO  obico.app - print event: PrintStarted (1700337205)
2023-11-18 20:50:31,336      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 20:50:31,338      INFO  obico.app - print event: PrintDone (1700337205)
2023-11-18 21:51:13,524      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 21:51:13,736      INFO  obico.app - print event: PrintStarted (1700344273)
2023-11-18 22:48:00,937      INFO  obico.app - detected state change: Printing -> Paused
2023-11-18 22:48:00,938      INFO  obico.app - print event: PrintPaused (1700344273)
2023-11-18 22:48:05,940      INFO  obico.app - detected state change: Paused -> Operational
2023-11-18 22:48:05,941      INFO  obico.app - print event: PrintCancelled (1700344273)
2023-11-18 22:48:06,443      INFO  obico.app - print event: PrintFailed (1700344273)
2023-11-18 22:49:29,957      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 22:49:30,153      INFO  obico.app - print event: PrintStarted (1700347769)
2023-11-18 23:12:30,805      INFO  obico.app - detected state change: Printing -> Operational
2023-11-18 23:12:30,806      INFO  obico.app - print event: PrintDone (1700347769)
2023-11-18 23:16:15,888      INFO  obico.app - detected state change: Operational -> Offline
2023-11-18 23:16:31,645      INFO  obico.app - detected state change: Offline -> Operational
2023-11-18 23:18:09,580      INFO  backoff - Backing off capture_jpeg(...) for 0.7s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-18 23:18:10,325      INFO  backoff - Backing off capture_jpeg(...) for 0.6s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-18 23:18:10,942     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-18 23:18:10,943   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-18 23:22:10,100      INFO  obico.app - detected state change: Operational -> Offline
2023-11-18 23:22:31,920      INFO  obico.app - detected state change: Offline -> Operational
2023-11-18 23:27:07,762      INFO  obico.app - detected state change: Operational -> Offline
2023-11-18 23:28:32,430      INFO  obico.app - detected state change: Offline -> Operational
2023-11-18 23:35:36,283      INFO  obico.app - detected state change: Operational -> Printing
2023-11-18 23:35:36,444      INFO  obico.app - print event: PrintStarted (1700350536)
2023-11-19 00:00:48,831      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 00:00:48,832      INFO  obico.app - print event: PrintDone (1700350536)
2023-11-19 00:03:47,141      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 00:03:47,424      INFO  obico.app - print event: PrintStarted (1700352226)
2023-11-19 00:57:58,881      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 00:57:58,884      INFO  obico.app - print event: PrintDone (1700352226)
2023-11-19 01:15:39,007      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 01:15:39,212      INFO  obico.app - print event: PrintStarted (1700356538)
2023-11-19 01:39:05,394      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 01:39:05,395      INFO  obico.app - print event: PrintDone (1700356538)
2023-11-19 01:58:28,368      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 01:58:28,762      INFO  obico.app - print event: PrintStarted (1700359108)
2023-11-19 05:02:13,495      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 05:02:13,496      INFO  obico.app - print event: PrintDone (1700359108)
2023-11-19 05:21:49,916      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 05:21:50,069      INFO  obico.app - print event: PrintStarted (1700371309)
2023-11-19 11:09:11,143      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 11:09:11,144      INFO  obico.app - print event: PrintDone (1700371309)
2023-11-19 14:45:32,195      INFO  obico.app - detected state change: Operational -> Offline
2023-11-19 14:45:55,505      INFO  obico.app - detected state change: Offline -> Operational
2023-11-19 14:46:20,332      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 14:46:20,529      INFO  obico.app - print event: PrintStarted (1700405180)
2023-11-19 15:35:05,788      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 15:35:05,789      INFO  obico.app - print event: PrintDone (1700405180)
2023-11-19 15:40:27,315      INFO  obico.app - detected state change: Operational -> Offline
2023-11-19 15:40:36,343      INFO  obico.app - detected state change: Offline -> Operational
2023-11-19 15:41:21,232      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 15:41:21,366      INFO  obico.app - print event: PrintStarted (1700408480)
2023-11-19 16:26:37,757      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 16:26:37,760      INFO  obico.app - print event: PrintDone (1700408480)
2023-11-19 16:28:52,930      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 16:28:53,113      INFO  obico.app - print event: PrintStarted (1700411332)
2023-11-19 16:37:53,276      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 16:37:53,278      INFO  obico.app - print event: PrintCancelled (1700411332)
2023-11-19 16:37:53,780      INFO  obico.app - print event: PrintFailed (1700411332)
2023-11-19 16:40:03,944      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 16:40:04,123      INFO  obico.app - print event: PrintStarted (1700412003)
2023-11-19 16:45:36,116   WARNING  obico.ws - WS Closed - None - None
2023-11-19 17:00:51,523      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 17:00:51,524      INFO  obico.app - print event: PrintCancelled (1700412003)
2023-11-19 17:00:52,026      INFO  obico.app - print event: PrintFailed (1700412003)
2023-11-19 17:01:43,931      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 17:01:45,071      INFO  obico.app - print event: PrintStarted (1700413303)
2023-11-19 17:47:53,415      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 17:47:53,416      INFO  obico.app - print event: PrintDone (1700413303)
2023-11-19 18:01:44,558      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 18:01:44,740      INFO  obico.app - print event: PrintStarted (1700416904)
2023-11-19 18:37:10,849      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 18:37:10,850      INFO  obico.app - print event: PrintCancelled (1700416904)
2023-11-19 18:37:11,352      INFO  obico.app - print event: PrintFailed (1700416904)
2023-11-19 18:37:16,341      INFO  obico.app - detected state change: Operational -> Offline
2023-11-19 18:37:40,900      INFO  obico.app - detected state change: Offline -> Operational
2023-11-19 18:40:53,273      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 18:40:53,447      INFO  obico.app - print event: PrintStarted (1700419253)
2023-11-19 19:32:34,069      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 19:32:34,071      INFO  obico.app - print event: PrintDone (1700419253)
2023-11-19 20:00:04,309      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 20:00:04,460      INFO  obico.app - print event: PrintStarted (1700424004)
2023-11-19 21:17:50,626   WARNING  obico.ws - WS Closed - None - None
2023-11-19 21:17:50,627      INFO  obico.app.tunnel - Tunneled WS is closing
2023-11-19 21:57:03,648      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 21:57:03,650      INFO  obico.app - print event: PrintCancelled (1700424004)
2023-11-19 21:57:04,152      INFO  obico.app - print event: PrintFailed (1700424004)
2023-11-19 22:30:05,802      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 22:30:05,997      INFO  obico.app - print event: PrintStarted (1700433005)
2023-11-19 22:34:06,031      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 22:34:06,033      INFO  obico.app - print event: PrintCancelled (1700433005)
2023-11-19 22:34:06,535      INFO  obico.app - print event: PrintFailed (1700433005)
2023-11-19 22:42:54,753      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 22:42:54,924      INFO  obico.app - print event: PrintStarted (1700433774)
2023-11-19 22:51:22,261      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 22:51:22,262      INFO  obico.app - print event: PrintCancelled (1700433774)
2023-11-19 22:51:22,764      INFO  obico.app - print event: PrintFailed (1700433774)
2023-11-19 22:51:35,303      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 22:51:35,527      INFO  obico.app - print event: PrintStarted (1700434295)
2023-11-19 23:01:35,124      INFO  obico.app - detected state change: Printing -> Operational
2023-11-19 23:01:35,126      INFO  obico.app - print event: PrintCancelled (1700434295)
2023-11-19 23:01:35,628      INFO  obico.app - print event: PrintFailed (1700434295)
2023-11-19 23:01:48,163      INFO  obico.app - detected state change: Operational -> Printing
2023-11-19 23:01:48,358      INFO  obico.app - print event: PrintStarted (1700434907)
2023-11-20 01:06:51,169      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 01:06:51,170      INFO  obico.app - print event: PrintDone (1700434907)
2023-11-20 01:13:01,324      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 01:13:51,477      INFO  obico.app - detected state change: Offline -> Printing
2023-11-20 01:14:46,379      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 01:14:46,379      INFO  obico.app - print event: PrintCancelled (1700442831)
2023-11-20 01:14:46,881      INFO  obico.app - print event: PrintFailed (1700442831)
2023-11-20 01:16:46,272      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 01:16:46,407      INFO  obico.app - print event: PrintStarted (1700443006)
2023-11-20 01:17:14,617      INFO  obico.app - detected state change: Printing -> Offline
2023-11-20 01:18:28,515      INFO  obico.app - detected state change: Offline -> Printing
2023-11-20 01:44:38,493      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 01:44:38,495      INFO  obico.app - print event: PrintDone (1700443108)
2023-11-20 01:48:17,956      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 01:48:18,150      INFO  obico.app - print event: PrintStarted (1700444897)
2023-11-20 01:57:19,079      INFO  obico.app - detected state change: Printing -> Paused
2023-11-20 01:57:19,082      INFO  obico.app - print event: PrintPaused (1700444897)
2023-11-20 01:57:38,135      INFO  obico.app - detected state change: Paused -> Operational
2023-11-20 01:57:38,136      INFO  obico.app - print event: PrintCancelled (1700444897)
2023-11-20 01:57:38,638      INFO  obico.app - print event: PrintFailed (1700444897)
2023-11-20 01:57:40,450      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 01:57:57,223      INFO  obico.app - detected state change: Offline -> Printing
2023-11-20 04:11:25,527      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 04:11:25,530      INFO  obico.app - print event: PrintDone (1700445476)
2023-11-20 04:42:59,930   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-20 04:42:59,932      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 04:42:59,939   WARNING  obico.ws - WS Closed - None - None
2023-11-20 04:45:00,197   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-20 04:45:00,212      INFO  obico.moonraker_conn - connection is open
2023-11-20 04:45:00,432      INFO  obico.moonraker_conn - Klippy ready
2023-11-20 04:45:00,676      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 04:45:45,076   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-20 04:45:45,078      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 04:45:45,084   WARNING  obico.ws - WS Closed - None - None
2023-11-20 04:47:45,336   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-20 04:47:45,353      INFO  obico.moonraker_conn - connection is open
2023-11-20 04:47:45,559      INFO  obico.moonraker_conn - Klippy ready
2023-11-20 04:47:45,589   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 75274}, sender='moonrakerconn')
2023-11-20 04:47:45,814      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 04:59:57,656   WARNING  obico.ws - WS Closed - None - None
2023-11-20 04:59:57,659      INFO  obico.app.tunnel - Tunneled WS is closing
2023-11-20 14:21:23,176      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 14:21:23,594      INFO  obico.app - print event: PrintStarted (1700490082)
2023-11-20 14:32:54,255      INFO  obico.app - detected state change: Printing -> Paused
2023-11-20 14:32:54,258      INFO  obico.app - print event: PrintPaused (1700490082)
2023-11-20 14:33:26,359      INFO  obico.app - detected state change: Paused -> Operational
2023-11-20 14:33:26,361      INFO  obico.app - print event: PrintCancelled (1700490082)
2023-11-20 14:33:26,864      INFO  obico.app - print event: PrintFailed (1700490082)
2023-11-20 14:33:42,362      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 14:33:57,243      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 14:34:01,256      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 14:34:01,716      INFO  obico.app - print event: PrintStarted (1700490841)
2023-11-20 14:42:35,772      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 14:42:35,775      INFO  obico.app - print event: PrintCancelled (1700490841)
2023-11-20 14:42:36,277      INFO  obico.app - print event: PrintFailed (1700490841)
2023-11-20 15:17:24,888      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 15:17:25,044      INFO  obico.app - print event: PrintStarted (1700493444)
2023-11-20 16:45:37,276   WARNING  obico.ws - WS Closed - None - None
2023-11-20 16:45:53,919      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 16:45:53,921      INFO  obico.app - print event: PrintDone (1700493444)
2023-11-20 16:46:56,031      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 16:47:24,435      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 16:50:01,441      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 16:50:02,934      INFO  obico.app - print event: PrintStarted (1700499001)
2023-11-20 16:58:26,171      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 16:58:26,172      INFO  obico.app - print event: PrintCancelled (1700499001)
2023-11-20 16:58:26,675      INFO  obico.app - print event: PrintFailed (1700499001)
2023-11-20 17:00:39,054      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 17:00:50,710      INFO  obico.app - detected state change: Offline -> Printing
2023-11-20 18:08:13,695      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 18:08:13,697      INFO  obico.app - print event: PrintDone (1700499650)
2023-11-20 19:08:19,438      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 19:08:47,918      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 19:09:25,365      INFO  obico.app - detected state change: Operational -> Offline
2023-11-20 19:09:48,029      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 19:10:48,466      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 19:10:48,649      INFO  obico.app - print event: PrintStarted (1700507448)
2023-11-20 19:35:50,307      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 19:35:50,308      INFO  obico.app - print event: PrintDone (1700507448)
2023-11-20 19:41:10,592      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 19:41:10,803      INFO  obico.app - print event: PrintStarted (1700509270)
2023-11-20 20:06:57,711      INFO  obico.app - detected state change: Printing -> Operational
2023-11-20 20:06:57,712      INFO  obico.app - print event: PrintDone (1700509270)
2023-11-20 20:12:04,673      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 20:12:04,876      INFO  obico.app - print event: PrintStarted (1700511124)
2023-11-20 20:12:27,487      INFO  obico.app - detected state change: Printing -> Offline
2023-11-20 20:12:58,084      INFO  obico.app - detected state change: Offline -> Operational
2023-11-20 20:13:04,851      INFO  obico.app - detected state change: Operational -> Printing
2023-11-20 20:13:05,135      INFO  obico.app - print event: PrintStarted (1700511184)
2023-11-20 22:46:20,613   WARNING  obico.ws - WS Closed - None - None
2023-11-20 22:46:20,617      INFO  obico.app.tunnel - Tunneled WS is closing
2023-11-21 01:10:39,033   WARNING  obico.ws - WS Closed - None - None
2023-11-21 01:13:40,757   WARNING  obico.ws - WS Closed - None - None
2023-11-21 01:15:41,718   WARNING  obico.ws - WS Closed - None - None
2023-11-21 01:27:49,581   WARNING  obico.ws - WS Closed - None - None
2023-11-21 03:14:57,574      INFO  obico.app - detected state change: Printing -> Operational
2023-11-21 03:14:57,575      INFO  obico.app - print event: PrintDone (1700511184)
2023-11-21 03:23:20,125      INFO  obico.app - Fetching linked printer...
2023-11-21 03:23:21,313      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-21 03:23:21,320   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-21 03:23:21,322   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-21 03:23:21,344      INFO  obico.moonraker_conn - connection is open
2023-11-21 03:23:21,355      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-11-21 03:23:21,462      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.8s (False)
2023-11-21 03:23:22,377      INFO  obico.janus - Starting webcam streamer
2023-11-21 03:23:23,519      INFO  obico.moonraker_conn - Klippy ready
2023-11-21 03:23:23,766      INFO  obico.app - detected state change: Offline -> Operational
2023-11-21 03:23:24,267   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 29678}, sender='moonrakerconn')
2023-11-21 03:37:54,026      INFO  obico.app - detected state change: Operational -> Printing
2023-11-21 03:37:54,178      INFO  obico.app - print event: PrintStarted (1700537873)
2023-11-21 04:19:49,719      INFO  obico.app - detected state change: Printing -> Operational
2023-11-21 04:19:49,720      INFO  obico.app - print event: PrintDone (1700537873)
2023-11-21 04:35:55,029      INFO  obico.app - detected state change: Operational -> Printing
2023-11-21 04:35:55,178      INFO  obico.app - print event: PrintStarted (1700541354)
2023-11-21 10:06:42,029      INFO  obico.app - detected state change: Printing -> Operational
2023-11-21 10:06:42,031      INFO  obico.app - print event: PrintDone (1700541354)
2023-11-21 14:54:47,391      INFO  obico.app - Fetching linked printer...
2023-11-21 14:54:48,598      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-21 14:54:48,604   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-21 14:54:48,605   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-21 14:54:48,630      INFO  obico.moonraker_conn - connection is open
2023-11-21 14:54:48,641      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-21 14:54:48,805      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-11-21 14:54:49,106      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-21 14:54:49,268      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.1s (False)
2023-11-21 14:54:49,664      INFO  obico.janus - Starting webcam streamer
2023-11-21 14:54:50,430      INFO  backoff - Backing off wait_for_klippy_ready(...) for 14.7s (False)
2023-11-21 14:54:50,687      INFO  backoff - Backing off wait_for_janus(...) for 0.9s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-11-25 01:10:24,848      INFO  backoff - Backing off wait_for_klippy_ready(...) for 27.2s (False)
2023-11-25 01:10:52,044      INFO  backoff - Backing off wait_for_klippy_ready(...) for 40.5s (False)
2023-11-25 01:11:32,597      INFO  backoff - Backing off wait_for_klippy_ready(...) for 12.7s (False)
2023-11-25 01:11:45,303      INFO  backoff - Backing off wait_for_klippy_ready(...) for 11.0s (False)
2023-11-25 01:11:56,285      INFO  backoff - Backing off wait_for_klippy_ready(...) for 40.3s (False)
2023-11-25 01:12:36,652      INFO  backoff - Backing off wait_for_klippy_ready(...) for 47.0s (False)
2023-11-25 01:13:23,752      INFO  backoff - Backing off wait_for_klippy_ready(...) for 14.6s (False)
2023-11-25 01:13:38,405      INFO  backoff - Backing off wait_for_klippy_ready(...) for 56.0s (False)
2023-11-25 01:14:34,457      INFO  backoff - Backing off wait_for_klippy_ready(...) for 55.2s (False)
2023-11-25 01:15:29,751      INFO  backoff - Backing off wait_for_klippy_ready(...) for 28.6s (False)
2023-11-25 01:15:58,397      INFO  backoff - Backing off wait_for_klippy_ready(...) for 32.2s (False)
2023-11-25 01:16:30,589      INFO  backoff - Backing off wait_for_klippy_ready(...) for 39.3s (False)
2023-11-25 01:17:09,884      INFO  backoff - Backing off wait_for_klippy_ready(...) for 33.7s (False)
2023-11-25 01:17:43,661      INFO  backoff - Backing off wait_for_klippy_ready(...) for 48.4s (False)
2023-11-25 01:18:32,123      INFO  backoff - Backing off wait_for_klippy_ready(...) for 51.9s (False)
2023-11-25 01:19:24,132      INFO  backoff - Backing off wait_for_klippy_ready(...) for 35.9s (False)
2023-11-25 01:20:00,120      INFO  backoff - Backing off wait_for_klippy_ready(...) for 15.3s (False)
2023-11-25 01:20:15,413      INFO  backoff - Backing off wait_for_klippy_ready(...) for 24.6s (False)
2023-11-25 01:20:40,006      INFO  backoff - Backing off wait_for_klippy_ready(...) for 25.6s (False)
2023-11-25 01:21:05,655      INFO  backoff - Backing off wait_for_klippy_ready(...) for 41.3s (False)
2023-11-25 01:21:46,992      INFO  backoff - Backing off wait_for_klippy_ready(...) for 51.8s (False)
2023-11-25 01:22:38,854      INFO  backoff - Backing off wait_for_klippy_ready(...) for 57.4s (False)
2023-11-25 01:23:36,264      INFO  backoff - Backing off wait_for_klippy_ready(...) for 12.7s (False)
2023-11-25 01:23:48,961      INFO  backoff - Backing off wait_for_klippy_ready(...) for 18.3s (False)
2023-11-25 01:24:07,289      INFO  backoff - Backing off wait_for_klippy_ready(...) for 59.4s (False)
2023-11-25 01:25:06,721      INFO  backoff - Backing off wait_for_klippy_ready(...) for 6.8s (False)
2023-11-25 01:25:13,512      INFO  backoff - Backing off wait_for_klippy_ready(...) for 46.4s (False)
2023-11-25 01:25:59,978      INFO  backoff - Backing off wait_for_klippy_ready(...) for 5.5s (False)
2023-11-25 01:26:05,492      INFO  backoff - Backing off wait_for_klippy_ready(...) for 32.3s (False)
2023-11-25 01:18:51,717      INFO  obico.app - Fetching linked printer...
2023-11-25 01:18:57,092      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-25 01:18:57,098   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-25 01:18:57,099   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-25 01:18:57,116      INFO  obico.moonraker_conn - connection is open
2023-11-25 01:18:57,372      INFO  obico.moonraker_conn - Klippy ready
2023-11-25 01:18:58,162   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 53269}, sender='moonrakerconn')
2023-11-25 01:18:58,165      INFO  obico.app - detected state change: Offline -> Operational
2023-11-25 01:18:58,166      INFO  obico.janus - Starting webcam streamer
2023-11-25 03:16:36,171      INFO  obico.app - detected state change: Operational -> Printing
2023-11-25 03:16:37,058      INFO  obico.app - print event: PrintStarted (1700882195)
2023-11-25 05:44:12,325      INFO  obico.app - detected state change: Printing -> Operational
2023-11-25 05:44:12,326      INFO  obico.app - print event: PrintDone (1700882195)
2023-11-25 15:56:54,083      INFO  obico.app - detected state change: Operational -> Printing
2023-11-25 15:56:54,550      INFO  obico.app - print event: PrintStarted (1700927813)
2023-11-25 18:45:00,858      INFO  obico.app - detected state change: Printing -> Operational
2023-11-25 18:45:00,859      INFO  obico.app - print event: PrintDone (1700927813)
2023-11-25 18:17:25,666      INFO  obico.app - Fetching linked printer...
2023-11-25 18:17:25,802      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-25 18:17:25,812   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-25 18:17:25,813   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-25 18:17:25,847      INFO  backoff - Backing off ensure_api_key(...) for 0.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf59c6fb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-25 18:17:26,040   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-25 18:17:26,046      INFO  backoff - Backing off ensure_api_key(...) for 0.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf59e26d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-25 18:17:26,285   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-25 18:17:26,291      INFO  backoff - Backing off ensure_api_key(...) for 1.3s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf59e2bc8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-25 18:17:26,815   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-25 18:17:27,618   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-25 18:17:27,648      INFO  obico.moonraker_conn - connection is open
2023-11-25 18:17:27,661      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-11-25 18:17:27,753      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.5s (False)
2023-11-25 18:17:27,896      INFO  obico.janus - Starting webcam streamer
2023-11-25 18:17:28,238      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.0s (False)
2023-11-25 18:17:29,407      INFO  obico.moonraker_conn - Klippy ready
2023-11-25 18:17:29,666      INFO  obico.app - detected state change: Offline -> Operational
2023-11-25 18:17:29,942   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 3814}, sender='moonrakerconn')
2023-11-25 19:43:17,694      INFO  obico.app - detected state change: Operational -> Printing
2023-11-25 19:43:17,826      INFO  obico.app - print event: PrintStarted (1700941397)
2023-11-26 02:01:13,180      INFO  obico.app - detected state change: Printing -> Operational
2023-11-26 02:01:13,181      INFO  obico.app - print event: PrintDone (1700941397)
2023-11-26 03:28:13,241      INFO  obico.app - detected state change: Operational -> Printing
2023-11-26 03:28:13,377      INFO  obico.app - print event: PrintStarted (1700969292)
2023-11-26 03:41:06,050      INFO  obico.app - detected state change: Printing -> Operational
2023-11-26 03:41:06,051      INFO  obico.app - print event: PrintCancelled (1700969292)
2023-11-26 03:41:06,552      INFO  obico.app - print event: PrintFailed (1700969292)
2023-11-26 03:53:15,633      INFO  obico.app - detected state change: Operational -> Printing
2023-11-26 03:53:15,791      INFO  obico.app - print event: PrintStarted (1700970795)
2023-11-26 08:06:19,404      INFO  obico.app - detected state change: Printing -> Operational
2023-11-26 08:06:19,404      INFO  obico.app - print event: PrintDone (1700970795)
2023-11-26 13:21:10,073      INFO  obico.app - detected state change: Operational -> Printing
2023-11-26 13:21:10,230      INFO  obico.app - print event: PrintStarted (1701004869)
2023-11-26 16:56:27,052      INFO  obico.app - detected state change: Printing -> Operational
2023-11-26 16:56:27,053      INFO  obico.app - print event: PrintDone (1701004869)
2023-11-26 19:42:39,327   WARNING  obico.ws - WS Closed - None - None
2023-11-26 21:00:44,029   WARNING  obico.ws - WS Closed - None - None
2023-11-27 00:04:01,602      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:08:56,786      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:17:26,416      INFO  obico.app - Fetching linked printer...
2023-11-27 00:17:26,582      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-27 00:17:26,589   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-27 00:17:26,591   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 00:17:26,618      INFO  backoff - Backing off ensure_api_key(...) for 0.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5d71fb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-27 00:17:26,789   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 00:17:26,798      INFO  backoff - Backing off ensure_api_key(...) for 0.4s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5d8d6b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-27 00:17:27,250   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 00:17:27,257      INFO  backoff - Backing off ensure_api_key(...) for 0.4s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5d8dbb0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-27 00:17:27,593   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-27 00:17:27,684   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 00:17:27,732      INFO  obico.moonraker_conn - connection is open
2023-11-27 00:17:27,745      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-27 00:17:27,948      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-27 00:17:28,120      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.6s (False)
2023-11-27 00:17:28,649      INFO  obico.janus - Starting webcam streamer
2023-11-27 00:17:31,846      INFO  obico.moonraker_conn - Klippy ready
2023-11-27 00:17:32,091      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:25:17,669      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:25:26,816      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:31:15,140      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:31:27,044      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:32:09,778      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:32:27,176      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:32:48,509      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:32:57,139      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:34:01,495      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:34:27,435      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 00:35:38,414      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 00:35:57,363      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:16:22,612      INFO  obico.app - Fetching linked printer...
2023-11-27 01:16:22,779      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-27 01:16:22,790   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-27 01:16:22,792   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 01:16:22,818      INFO  obico.moonraker_conn - connection is open
2023-11-27 01:16:23,055      INFO  obico.moonraker_conn - Klippy ready
2023-11-27 01:16:23,846      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:16:23,848      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:16:23,850      INFO  obico.janus - Starting webcam streamer
2023-11-27 01:16:27,170   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-27 01:16:27,174   WARNING  obico.ws - WS Closed - None - None
2023-11-27 01:18:27,428   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-27 01:18:27,448      INFO  obico.moonraker_conn - connection is open
2023-11-27 01:18:27,605      INFO  obico.moonraker_conn - Klippy ready
2023-11-27 01:18:27,633   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 8098}, sender='moonrakerconn')
2023-11-27 01:18:27,856      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:19:28,984   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-27 01:19:28,986      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:19:28,991   WARNING  obico.ws - WS Closed - None - None
2023-11-27 01:21:29,237   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-27 01:21:29,251      INFO  obico.moonraker_conn - connection is open
2023-11-27 01:21:29,458      INFO  obico.moonraker_conn - Klippy ready
2023-11-27 01:21:29,706      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:22:29,901      INFO  backoff - Backing off capture_jpeg(...) for 0.9s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-27 01:22:30,824      INFO  backoff - Backing off capture_jpeg(...) for 0.2s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-27 01:22:30,980     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-27 01:22:30,981   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-27 01:23:15,535      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:23:29,714      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:27:14,423      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:28:00,149      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:32:41,146      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:33:00,298      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:36:10,039   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-11-27 01:36:10,040      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:36:10,045   WARNING  obico.ws - WS Closed - None - None
2023-11-27 01:38:10,300   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-11-27 01:38:10,319      INFO  obico.moonraker_conn - connection is open
2023-11-27 01:38:10,435      INFO  obico.moonraker_conn - Klippy ready
2023-11-27 01:38:10,684      INFO  obico.app - detected state change: Offline -> Printing
2023-11-27 01:32:01,400      INFO  obico.app - Fetching linked printer...
2023-11-27 01:32:01,602      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-27 01:32:01,616   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 01:32:01,617   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-27 01:32:01,649      INFO  backoff - Backing off ensure_api_key(...) for 0.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf576afd0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-27 01:32:02,536   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-27 01:32:02,557      INFO  obico.moonraker_conn - connection is open
2023-11-27 01:32:02,567      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-27 01:32:02,632   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-27 01:32:02,735      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-27 01:32:02,992      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.9s (False)
2023-11-27 01:32:03,695      INFO  obico.janus - Starting webcam streamer
2023-11-27 01:32:07,040      INFO  obico.moonraker_conn - Klippy ready
2023-11-27 01:32:07,289      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:55:17,873      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 01:55:26,271      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 01:55:35,797      INFO  obico.app - detected state change: Operational -> Printing
2023-11-27 01:55:35,998      INFO  obico.app - print event: PrintStarted (1701050135)
2023-11-27 01:56:55,366   WARNING  obico.ws - WS Closed - None - None
2023-11-27 01:56:55,369      INFO  obico.app.tunnel - Tunneled WS is closing
2023-11-27 03:34:10,753      INFO  obico.app - detected state change: Printing -> Operational
2023-11-27 03:34:10,756      INFO  obico.app - print event: PrintDone (1701050135)
2023-11-27 03:39:06,145      INFO  obico.app - detected state change: Operational -> Offline
2023-11-27 03:39:11,000      INFO  obico.app - detected state change: Offline -> Operational
2023-11-27 04:10:25,461      INFO  obico.app - detected state change: Operational -> Printing
2023-11-27 04:10:25,701      INFO  obico.app - print event: PrintStarted (1701058225)
2023-11-27 07:51:56,417      INFO  obico.app - detected state change: Printing -> Operational
2023-11-27 07:51:56,417      INFO  obico.app - print event: PrintDone (1701058225)
2023-11-27 15:18:18,654      INFO  obico.app - detected state change: Operational -> Printing
2023-11-27 15:18:18,844      INFO  obico.app - print event: PrintStarted (1701098298)
2023-11-27 17:28:51,244      INFO  obico.app - detected state change: Printing -> Operational
2023-11-27 17:28:51,246      INFO  obico.app - print event: PrintDone (1701098298)
2023-11-27 21:37:45,957   WARNING  obico.ws - WS Closed - None - None
2023-11-27 21:37:45,959      INFO  obico.app.tunnel - Tunneled WS is closing
2023-11-27 21:39:03,479   WARNING  obico.ws - WS Closed - None - None
2023-11-27 21:39:03,481      INFO  obico.app.tunnel - Tunneled WS is closing
2023-11-28 00:04:50,660      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 00:18:19,781      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:18:55,271      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 00:19:19,799      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:21:28,051      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 00:22:19,845      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:26:28,882      INFO  backoff - Backing off capture_jpeg(...) for 0.4s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-28 00:26:29,294      INFO  backoff - Backing off capture_jpeg(...) for 0.3s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-28 00:26:29,599     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-11-28 00:26:29,600   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-11-28 00:27:20,583      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 00:27:50,405      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:30:31,936      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 00:30:50,516      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:30:52,303      INFO  obico.app - detected state change: Operational -> Printing
2023-11-28 00:30:52,463      INFO  obico.app - print event: PrintStarted (1701131452)
2023-11-28 00:32:35,618      INFO  obico.app - detected state change: Printing -> Offline
2023-11-28 00:33:06,742      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:33:13,458      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 00:33:36,738      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 00:49:24,746      INFO  obico.app - detected state change: Operational -> Printing
2023-11-28 00:49:25,026      INFO  obico.app - print event: PrintStarted (1701132564)
2023-11-28 01:09:12,934      INFO  obico.app - detected state change: Printing -> Operational
2023-11-28 01:09:12,936      INFO  obico.app - print event: PrintCancelled (1701132564)
2023-11-28 01:09:13,440      INFO  obico.app - print event: PrintFailed (1701132564)
2023-11-28 01:09:45,782      INFO  obico.app - detected state change: Operational -> Printing
2023-11-28 01:09:45,990      INFO  obico.app - print event: PrintStarted (1701133785)
2023-11-28 01:13:34,683      INFO  obico.app - detected state change: Printing -> Operational
2023-11-28 01:13:34,684      INFO  obico.app - print event: PrintCancelled (1701133785)
2023-11-28 01:13:35,187      INFO  obico.app - print event: PrintFailed (1701133785)
2023-11-28 01:14:04,336      INFO  obico.app - detected state change: Operational -> Offline
2023-11-28 01:14:05,241     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-11-28 01:14:14,067      INFO  obico.app - detected state change: Offline -> Printing
2023-11-28 01:53:44,890   WARNING  obico.ws - WS Closed - None - None
2023-11-28 04:22:45,615      INFO  obico.app - detected state change: Printing -> Operational
2023-11-28 04:22:45,617      INFO  obico.app - print event: PrintCancelled (1701134053)
2023-11-28 04:22:46,120      INFO  obico.app - print event: PrintFailed (1701134053)
2023-11-28 04:25:45,969      INFO  obico.app - detected state change: Operational -> Printing
2023-11-28 04:25:46,205      INFO  obico.app - print event: PrintStarted (1701145545)
2023-11-28 12:50:24,764      INFO  obico.app - detected state change: Printing -> Operational
2023-11-28 12:50:24,765      INFO  obico.app - print event: PrintDone (1701145545)
2023-11-28 17:10:01,047      INFO  obico.app - Fetching linked printer...
2023-11-28 17:10:02,294      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-28 17:10:02,303   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-28 17:10:02,304   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 17:10:02,350      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf58dafa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-28 17:10:03,110   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 17:10:03,133      INFO  obico.moonraker_conn - connection is open
2023-11-28 17:10:03,144      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-11-28 17:10:03,222      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.7s (False)
2023-11-28 17:10:03,362      INFO  obico.janus - Starting webcam streamer
2023-11-28 17:10:04,385      INFO  backoff - Backing off wait_for_janus(...) for 0.5s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-11-28 17:10:05,022      INFO  obico.moonraker_conn - Klippy ready
2023-11-28 17:10:05,045   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 21186}, sender='moonrakerconn')
2023-11-28 17:10:05,269      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 17:18:26,162      INFO  obico.app - Fetching linked printer...
2023-11-28 17:18:27,512      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-28 17:18:27,519   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-28 17:18:27,520   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 17:18:27,542      INFO  obico.moonraker_conn - connection is open
2023-11-28 17:18:27,554      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-11-28 17:18:27,756      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.1s (False)
2023-11-28 17:18:28,578      INFO  obico.janus - Starting webcam streamer
2023-11-28 17:18:28,907      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.9s (False)
2023-11-28 17:18:32,872      INFO  obico.moonraker_conn - Klippy ready
2023-11-28 17:18:32,899   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 95561}, sender='moonrakerconn')
2023-11-28 17:18:33,126      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 17:24:31,458      INFO  obico.app - Fetching linked printer...
2023-11-28 17:24:32,611      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-28 17:24:32,619   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-28 17:24:32,623   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 17:24:32,870      INFO  obico.moonraker_conn - connection is open
2023-11-28 17:24:32,895      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.9s (False)
2023-11-28 17:24:33,680      INFO  obico.janus - Starting webcam streamer
2023-11-28 17:24:33,840      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.0s (False)
2023-11-28 17:24:36,054      INFO  obico.moonraker_conn - Klippy ready
2023-11-28 18:26:40,322      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 18:30:45,047      INFO  obico.app - Fetching linked printer...
2023-11-28 18:30:46,338      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-28 18:30:46,348   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-28 18:30:46,349   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 18:30:46,370      INFO  obico.moonraker_conn - connection is open
2023-11-28 18:30:46,383      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-11-28 18:30:47,219      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.1s (False)
2023-11-28 18:30:47,424      INFO  obico.janus - Starting webcam streamer
2023-11-28 18:30:48,473      INFO  obico.moonraker_conn - Klippy ready
2023-11-28 18:30:48,735      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 18:30:48,975   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 82021}, sender='moonrakerconn')
2023-11-28 20:39:05,044      INFO  obico.app - detected state change: Operational -> Printing
2023-11-28 20:39:05,532      INFO  obico.app - print event: PrintStarted (1701203944)
                                                                                                                                                                                                                                                                           2023-11-28 20:43:43,237      INFO  obico.app - Fetching linked printer...
2023-11-28 20:43:43,388      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-11-28 20:43:43,395   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-28 20:43:43,397   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 20:43:43,432      INFO  backoff - Backing off ensure_api_key(...) for 0.6s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5ab9fb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-28 20:43:44,013   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 20:43:44,019      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5ad46b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-11-28 20:43:44,397   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-11-28 20:43:44,785   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-11-28 20:43:44,804      INFO  obico.moonraker_conn - connection is open
2023-11-28 20:43:44,817      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-11-28 20:43:45,252      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.6s (False)
2023-11-28 20:43:45,456      INFO  obico.janus - Starting webcam streamer
2023-11-28 20:43:46,992      INFO  obico.moonraker_conn - Klippy ready
2023-11-28 20:43:47,237      INFO  obico.app - detected state change: Offline -> Operational
2023-11-28 20:43:47,239   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 28565}, sender='moonrakerconn')
2023-12-08 05:03:56,851      INFO  obico.app - detected state change: Operational -> Printing
2023-12-08 05:03:57,023      INFO  obico.app - print event: PrintStarted (1702011836)
2023-12-08 07:01:20,424      INFO  obico.app - detected state change: Printing -> Operational
2023-12-08 07:01:20,424      INFO  obico.app - print event: PrintDone (1702011836)
2023-12-08 16:05:54,896      INFO  obico.app - detected state change: Operational -> Printing
2023-12-08 16:05:55,038      INFO  obico.app - print event: PrintStarted (1702051554)
2023-12-08 18:54:26,393      INFO  obico.app - detected state change: Printing -> Operational
2023-12-08 18:54:26,396      INFO  obico.app - print event: PrintDone (1702051554)
2023-12-08 21:22:24,105      INFO  obico.app - detected state change: Operational -> Printing
2023-12-08 21:22:24,287      INFO  obico.app - print event: PrintStarted (1702070543)
2023-12-08 22:47:23,360   WARNING  obico.ws - WS Closed - None - None
2023-12-09 01:47:05,734      INFO  obico.app - detected state change: Printing -> Operational
2023-12-09 01:47:05,735      INFO  obico.app - print event: PrintDone (1702070543)
2023-12-09 01:45:46,138      INFO  obico.app - Fetching linked printer...
2023-12-09 01:45:51,607      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-09 01:45:51,613   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-09 01:45:51,615   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-09 01:45:51,641      INFO  obico.moonraker_conn - connection is open
2023-12-09 01:45:51,854      INFO  obico.moonraker_conn - Klippy ready
2023-12-09 01:45:52,671   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 77872}, sender='moonrakerconn')
2023-12-09 01:45:52,672      INFO  obico.janus - Starting webcam streamer
2023-12-09 01:45:52,672      INFO  obico.app - detected state change: Offline -> Operational
2023-12-09 02:20:42,019      INFO  obico.app - detected state change: Operational -> Printing
2023-12-09 02:20:42,211      INFO  obico.app - print event: PrintStarted (1702088441)
2023-12-09 03:09:14,789      INFO  obico.app - detected state change: Printing -> Operational
2023-12-09 03:09:14,790      INFO  obico.app - print event: PrintCancelled (1702088441)
2023-12-09 03:09:15,292      INFO  obico.app - print event: PrintFailed (1702088441)
2023-12-09 03:15:20,162      INFO  backoff - Backing off capture_jpeg(...) for 0.8s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-09 03:15:21,018      INFO  backoff - Backing off capture_jpeg(...) for 1.3s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-09 03:15:22,313     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-09 03:15:22,314   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-09 03:19:19,235      INFO  obico.app - detected state change: Operational -> Printing
2023-12-09 03:19:19,377      INFO  obico.app - print event: PrintStarted (1702091958)
2023-12-09 03:25:50,398      INFO  obico.app - detected state change: Printing -> Paused
2023-12-09 03:25:50,399      INFO  obico.app - print event: PrintPaused (1702091958)
2023-12-09 03:26:00,178      INFO  obico.app - detected state change: Paused -> Operational
2023-12-09 03:26:00,179      INFO  obico.app - print event: PrintCancelled (1702091958)
2023-12-09 03:26:00,681      INFO  obico.app - print event: PrintFailed (1702091958)
2023-12-09 03:26:04,437      INFO  obico.app - detected state change: Operational -> Printing
2023-12-09 03:26:04,611      INFO  obico.app - print event: PrintStarted (1702092364)
2023-12-09 15:42:14,904      INFO  obico.app - detected state change: Printing -> Operational
2023-12-09 15:42:14,905      INFO  obico.app - print event: PrintDone (1702092364)
2023-12-09 15:24:45,834      INFO  obico.app - Fetching linked printer...
2023-12-09 15:24:46,001      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-09 15:24:46,009   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-09 15:24:46,010   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-09 15:24:46,034      INFO  backoff - Backing off ensure_api_key(...) for 1.0s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf58dafa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-09 15:24:47,011   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-09 15:24:47,026   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-09 15:24:47,047      INFO  obico.moonraker_conn - connection is open
2023-12-09 15:24:47,057      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-12-09 15:24:47,240      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.7s (False)
2023-12-09 15:24:47,916      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.3s (False)
2023-12-09 15:24:48,066      INFO  obico.janus - Starting webcam streamer
2023-12-09 15:24:51,241      INFO  obico.moonraker_conn - Klippy ready
2023-12-09 15:24:51,491      INFO  obico.app - detected state change: Offline -> Operational
2023-12-09 16:08:50,151      INFO  obico.app - detected state change: Operational -> Printing
2023-12-09 16:08:50,322      INFO  obico.app - print event: PrintStarted (1702138129)
2023-12-09 19:43:18,070   WARNING  obico.ws - WS Closed - None - None
2023-12-09 19:43:18,073      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-09 19:54:01,853      INFO  obico.app - detected state change: Printing -> Operational
2023-12-09 19:54:01,857      INFO  obico.app - print event: PrintDone (1702138129)
2023-12-09 22:42:33,064      INFO  obico.app - detected state change: Operational -> Printing
2023-12-09 22:42:33,253      INFO  obico.app - print event: PrintStarted (1702161752)
2023-12-09 22:17:25,922      INFO  obico.app - Fetching linked printer...
2023-12-09 22:17:26,080      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-09 22:17:26,095   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-09 22:17:26,098   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-09 22:17:26,129      INFO  backoff - Backing off ensure_api_key(...) for 0.1s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5c79fb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-09 22:17:26,186   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-09 22:17:26,196      INFO  backoff - Backing off ensure_api_key(...) for 1.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5c95628>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-09 22:17:27,099   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-09 22:17:27,443   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-09 22:17:27,462      INFO  obico.moonraker_conn - connection is open
2023-12-09 22:17:27,473      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.0s (False)
2023-12-09 22:17:27,507      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.7s (False)
2023-12-09 22:17:28,161      INFO  obico.janus - Starting webcam streamer
2023-12-09 22:17:29,471      INFO  obico.moonraker_conn - Klippy ready
2023-12-09 22:17:29,718      INFO  obico.app - detected state change: Offline -> Operational
2023-12-09 22:17:30,215   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 43301}, sender='moonrakerconn')
2023-12-09 22:51:05,657      INFO  obico.app - detected state change: Operational -> Printing
2023-12-09 22:51:05,803      INFO  obico.app - print event: PrintStarted (1702162265)
2023-12-09 23:10:37,439      INFO  obico.app - detected state change: Printing -> Paused
2023-12-09 23:10:37,441      INFO  obico.app - print event: PrintPaused (1702162265)
2023-12-09 23:11:35,127      INFO  obico.app - detected state change: Paused -> Operational
2023-12-09 23:11:35,128      INFO  obico.app - print event: PrintCancelled (1702162265)
2023-12-09 23:11:35,631      INFO  obico.app - print event: PrintFailed (1702162265)
2023-12-10 00:30:03,685      INFO  obico.app - detected state change: Operational -> Printing
2023-12-10 00:30:03,862      INFO  obico.app - print event: PrintStarted (1702168203)
2023-12-10 01:08:59,969      INFO  obico.app - detected state change: Printing -> Operational
2023-12-10 01:08:59,970      INFO  obico.app - print event: PrintDone (1702168203)
2023-12-10 01:15:51,046      INFO  obico.app - detected state change: Operational -> Printing
2023-12-10 01:15:51,309      INFO  obico.app - print event: PrintStarted (1702170950)
2023-12-10 01:46:54,406      INFO  obico.app - detected state change: Printing -> Operational
2023-12-10 01:46:54,406      INFO  obico.app - print event: PrintDone (1702170950)
2023-12-10 01:52:12,683      INFO  obico.app - detected state change: Operational -> Printing
2023-12-10 01:52:12,844      INFO  obico.app - print event: PrintStarted (1702173132)
2023-12-10 02:19:04,703      INFO  obico.app - detected state change: Printing -> Operational
2023-12-10 02:19:04,704      INFO  obico.app - print event: PrintCancelled (1702173132)
2023-12-10 02:19:05,208      INFO  obico.app - print event: PrintFailed (1702173132)
2023-12-10 02:23:06,148      INFO  obico.app - detected state change: Operational -> Offline
2023-12-10 02:23:35,462      INFO  obico.app - detected state change: Offline -> Operational
2023-12-10 02:25:14,858      INFO  obico.app - Fetching linked printer...
2023-12-10 02:25:15,034      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-10 02:25:15,042   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-10 02:25:15,044   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-10 02:25:15,069      INFO  obico.moonraker_conn - connection is open
2023-12-10 02:25:15,241      INFO  obico.moonraker_conn - Klippy ready
2023-12-10 02:25:16,108      INFO  obico.app - detected state change: Offline -> Operational
2023-12-10 02:25:16,109      INFO  obico.janus - Starting webcam streamer
2023-12-10 02:25:16,508      INFO  obico.app - detected state change: Operational -> Offline
2023-12-10 02:25:19,694   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-12-10 02:25:19,698   WARNING  obico.ws - WS Closed - None - None
2023-12-10 02:27:19,944   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-12-10 02:27:19,960      INFO  obico.moonraker_conn - connection is open
2023-12-10 02:27:20,187      INFO  obico.moonraker_conn - Klippy ready
2023-12-10 02:27:20,443      INFO  obico.app - detected state change: Offline -> Printing
2023-12-10 04:49:36,892      INFO  obico.app - detected state change: Printing -> Operational
2023-12-10 04:49:36,894      INFO  obico.app - print event: PrintDone (1702175194)
2023-12-10 05:03:10,714      INFO  obico.app - detected state change: Operational -> Offline
2023-12-10 05:03:25,471      INFO  obico.app - detected state change: Offline -> Printing
2023-12-10 08:00:30,351      INFO  obico.app - detected state change: Printing -> Operational
2023-12-10 08:00:30,353      INFO  obico.app - print event: PrintDone (1702184605)
2023-12-10 15:17:26,593      INFO  obico.app - Fetching linked printer...
2023-12-10 15:17:26,811      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-10 15:17:26,819   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-10 15:17:26,821   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-10 15:17:26,866      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf58d5fa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-10 15:17:27,638   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-10 15:17:27,659      INFO  obico.moonraker_conn - connection is open
2023-12-10 15:17:27,669      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.0s (False)
2023-12-10 15:17:27,699      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-12-10 15:17:27,878      INFO  obico.janus - Starting webcam streamer
2023-12-10 15:17:28,140      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.8s (False)
2023-12-10 15:17:31,171      INFO  obico.moonraker_conn - Klippy ready
2023-12-10 15:17:31,419      INFO  obico.app - detected state change: Offline -> Operational
2023-12-10 15:41:00,566   WARNING  obico.ws - WS Closed - None - None
2023-12-10 15:41:00,570      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-10 15:43:05,239      INFO  obico.app - detected state change: Operational -> Printing
2023-12-10 15:43:05,494      INFO  obico.app - print event: PrintStarted (1702222984)
2023-12-10 18:44:22,297      INFO  obico.app - detected state change: Printing -> Operational
2023-12-10 18:44:22,298      INFO  obico.app - print event: PrintDone (1702222984)
2023-12-10 21:05:15,868   WARNING  obico.ws - WS Closed - None - None
2023-12-11 02:25:05,730      INFO  obico.app - detected state change: Operational -> Printing
2023-12-11 02:25:06,162      INFO  obico.app - print event: PrintStarted (1702261505)
2023-12-11 05:03:47,285      INFO  obico.app - detected state change: Printing -> Operational
2023-12-11 05:03:47,286      INFO  obico.app - print event: PrintDone (1702261505)
2023-12-11 04:59:14,685      INFO  obico.app - Fetching linked printer...
2023-12-11 04:59:14,819      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-11 04:59:14,828   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-11 04:59:14,834   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-11 04:59:14,867      INFO  backoff - Backing off ensure_api_key(...) for 0.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5b42fb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-11 04:59:15,751   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-11 04:59:15,757      INFO  backoff - Backing off ensure_api_key(...) for 1.1s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5b5d6b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-11 04:59:15,837   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-11 04:59:16,838   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-11 04:59:16,843   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-11 04:59:16,863      INFO  obico.moonraker_conn - connection is open
2023-12-11 04:59:16,876      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-12-11 04:59:17,006      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-12-11 04:59:17,140      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.9s (False)
2023-12-11 04:59:17,919      INFO  obico.janus - Starting webcam streamer
2023-12-11 04:59:20,161      INFO  obico.moonraker_conn - Klippy ready
2023-12-11 04:59:20,178   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 92430}, sender='moonrakerconn')
2023-12-11 04:59:20,412      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 05:17:52,260      INFO  obico.app - detected state change: Operational -> Printing
2023-12-11 05:17:52,444      INFO  obico.app - print event: PrintStarted (1702271871)
2023-12-11 13:17:27,467      INFO  obico.app - detected state change: Printing -> Operational
2023-12-11 13:17:27,468      INFO  obico.app - print event: PrintDone (1702271871)
2023-12-11 15:33:39,388      INFO  backoff - Backing off capture_jpeg(...) for 0.2s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-11 15:33:39,544      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-11 15:33:39,669     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-11 15:33:39,669   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-11 15:37:46,566      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 15:40:37,552      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 15:40:48,141      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 15:41:07,582      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 15:47:03,642      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 15:49:38,181      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 15:51:54,208      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 15:52:08,483      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 15:55:18,308      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 15:57:08,692      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 15:58:14,004      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 15:59:08,912      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:00:12,433      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:04:39,191      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:06:28,959      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:07:09,473      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:09:41,808      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:10:09,584      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:11:25,395      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:11:39,666      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:14:05,294      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:14:39,833      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:17:43,099      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:18:40,131      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:18:57,450      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:19:10,225      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:20:58,527      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:21:10,260      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:23:08,862      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:23:40,494      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:25:56,489      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:26:10,617      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:27:26,199      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:27:40,718      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:27:52,304      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:28:10,697      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:28:59,644      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:29:10,904      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:29:30,222      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:29:40,733      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:29:59,479      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:30:10,765      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:30:33,285      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:30:41,026      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:31:17,831      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:31:40,983      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:31:55,990      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:32:11,085      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:33:10,828      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:33:10,945     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-12-11 16:33:41,211      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:50:11,570      INFO  obico.app - detected state change: Operational -> Printing
2023-12-11 16:50:11,731      INFO  obico.app - print event: PrintStarted (1702313411)
2023-12-11 16:56:17,369      INFO  obico.app - detected state change: Printing -> Offline
2023-12-11 16:56:47,561      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 16:57:07,114      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 16:57:15,077      INFO  obico.app - detected state change: Offline -> Printing
2023-12-11 18:15:08,924      INFO  obico.app - detected state change: Printing -> Operational
2023-12-11 18:15:08,925      INFO  obico.app - print event: PrintDone (1702313834)
2023-12-11 18:31:23,463      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 18:31:40,753      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 18:35:37,646      INFO  obico.app - detected state change: Operational -> Printing
2023-12-11 18:35:37,814      INFO  obico.app - print event: PrintStarted (1702319737)
2023-12-11 18:36:17,288   WARNING  obico.ws - WS Closed - None - None
2023-12-11 18:36:17,289      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-11 18:36:19,106   WARNING  obico.ws - WS Closed - None - None
2023-12-11 18:36:19,107      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-11 18:37:58,809   WARNING  obico.ws - WS Closed - None - None
2023-12-11 18:37:58,811      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-11 19:24:11,383      INFO  obico.app - detected state change: Printing -> Paused
2023-12-11 19:24:11,385      INFO  obico.app - print event: PrintPaused (1702319737)
2023-12-11 19:24:24,422      INFO  obico.app - detected state change: Paused -> Operational
2023-12-11 19:24:24,423      INFO  obico.app - print event: PrintCancelled (1702319737)
2023-12-11 19:24:24,926      INFO  obico.app - print event: PrintFailed (1702319737)
2023-12-11 19:27:28,891      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 19:27:39,404      INFO  obico.app - detected state change: Offline -> Printing
2023-12-11 20:18:14,281      INFO  obico.app - detected state change: Printing -> Operational
2023-12-11 20:18:14,283      INFO  obico.app - print event: PrintDone (1702322859)
2023-12-11 22:39:09,101      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 22:39:24,436      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 22:42:12,101      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 22:43:54,624      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 22:44:54,610      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 22:44:54,614     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-12-11 22:45:24,730      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 22:46:45,663      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 22:46:54,746      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 22:49:22,690      INFO  obico.app - detected state change: Operational -> Offline
2023-12-11 22:49:55,025      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 22:52:26,433      INFO  obico.app - detected state change: Operational -> Printing
2023-12-11 22:52:26,863      INFO  obico.app - print event: PrintStarted (1702335146)
2023-12-11 22:55:45,229      INFO  obico.app - detected state change: Printing -> Offline
2023-12-11 22:57:45,604      INFO  obico.app - detected state change: Offline -> Operational
2023-12-11 22:57:47,371      INFO  obico.app - detected state change: Operational -> Printing
2023-12-11 22:57:47,578      INFO  obico.app - print event: PrintStarted (1702335467)
2023-12-12 00:13:16,619      INFO  obico.app - detected state change: Printing -> Operational
2023-12-12 00:13:16,620      INFO  obico.app - print event: PrintDone (1702335467)
2023-12-12 00:26:31,813      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 00:26:48,441      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 00:28:22,808      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 00:28:48,468      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 00:30:00,426      INFO  obico.app - detected state change: Operational -> Printing
2023-12-12 00:30:00,786      INFO  obico.app - print event: PrintStarted (1702341000)
2023-12-12 01:38:35,098      INFO  obico.app - detected state change: Printing -> Operational
2023-12-12 01:38:35,101      INFO  obico.app - print event: PrintDone (1702341000)
2023-12-12 01:41:47,304      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 01:42:06,167      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 01:42:50,098      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 01:43:06,232      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 01:43:37,351      INFO  obico.app - detected state change: Operational -> Printing
2023-12-12 01:43:37,497      INFO  obico.app - print event: PrintStarted (1702345417)
2023-12-12 04:01:16,308      INFO  obico.app - detected state change: Printing -> Paused
2023-12-12 04:01:16,309      INFO  obico.app - print event: PrintPaused (1702345417)
2023-12-12 04:01:29,098      INFO  obico.app - detected state change: Paused -> Operational
2023-12-12 04:01:29,099      INFO  obico.app - print event: PrintCancelled (1702345417)
2023-12-12 04:01:29,602      INFO  obico.app - print event: PrintFailed (1702345417)
2023-12-12 04:02:33,041      INFO  obico.app - detected state change: Operational -> Printing
2023-12-12 04:02:33,182      INFO  obico.app - print event: PrintStarted (1702353752)
2023-12-12 04:05:57,566      INFO  obico.app - detected state change: Printing -> Offline
2023-12-12 04:06:14,752      INFO  obico.app - detected state change: Offline -> Printing
2023-12-12 05:06:39,525   WARNING  obico.ws - WS Closed - None - None
2023-12-12 05:19:11,345      INFO  obico.app - detected state change: Printing -> Operational
2023-12-12 05:19:11,348      INFO  obico.app - print event: PrintDone (1702353974)
2023-12-12 05:21:37,394      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 05:22:11,448      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 05:28:43,614      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 05:28:57,776      INFO  obico.app - detected state change: Offline -> Printing
2023-12-12 07:12:34,233      INFO  obico.app - detected state change: Printing -> Operational
2023-12-12 07:12:34,234      INFO  obico.app - print event: PrintDone (1702358937)
2023-12-12 15:04:28,439      INFO  obico.app - detected state change: Operational -> Printing
2023-12-12 15:04:28,601      INFO  obico.app - print event: PrintStarted (1702393468)
2023-12-12 15:23:59,594      INFO  obico.app - detected state change: Printing -> Operational
2023-12-12 15:23:59,595      INFO  obico.app - print event: PrintDone (1702393468)
2023-12-12 16:57:20,456      INFO  obico.app - Fetching linked printer...
2023-12-12 16:57:20,616      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-12 16:57:20,627   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-12 16:57:20,628   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-12 16:57:20,653      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf57b4fe8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-12 16:57:21,446   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-12 16:57:21,452      INFO  backoff - Backing off ensure_api_key(...) for 1.6s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf57d06d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-12 16:57:21,636   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-12 16:57:22,638   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-12 16:57:23,021   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-12 16:57:23,040      INFO  obico.moonraker_conn - connection is open
2023-12-12 16:57:23,058      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-12-12 16:57:23,163      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.8s (False)
2023-12-12 16:57:23,698      INFO  obico.janus - Starting webcam streamer
2023-12-12 16:57:25,219      INFO  obico.moonraker_conn - Klippy ready
2023-12-12 16:57:25,237   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 22720}, sender='moonrakerconn')
2023-12-12 16:57:25,464      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 17:14:32,927      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-12 17:14:33,019      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-12 17:14:33,085     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-12 17:14:33,086   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-12 17:14:33,208      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 17:14:49,683      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 17:16:33,071      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 17:16:49,938      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 17:18:44,241      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 17:18:49,947      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 17:19:47,689      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 17:20:20,169      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 17:20:29,593      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 17:20:50,036      INFO  obico.app - detected state change: Offline -> Operational
2023-12-12 17:29:22,311      INFO  obico.app - detected state change: Operational -> Offline
2023-12-12 17:29:35,111      INFO  obico.app - detected state change: Offline -> Printing
2023-12-12 19:16:53,649      INFO  obico.app - detected state change: Printing -> Operational
2023-12-12 19:16:53,650      INFO  obico.app - print event: PrintDone (1702402174)
2023-12-12 21:23:17,691   WARNING  obico.ws - WS Closed - None - None
2023-12-12 21:23:17,693      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-13 17:13:11,080   WARNING  obico.ws - WS Closed - None - None
2023-12-13 20:44:38,814   WARNING  obico.ws - WS Closed - None - None
2023-12-13 21:01:53,527   WARNING  obico.ws - WS Closed - None - None
2023-12-14 21:02:13,403   WARNING  obico.ws - WS Closed - 1000 - 
2023-12-15 02:42:43,294   WARNING  obico.ws - WS Closed - None - None
2023-12-15 19:40:44,245   WARNING  obico.ws - WS Closed - None - None
2023-12-15 20:19:33,447      INFO  obico.app - Fetching linked printer...
2023-12-15 20:19:34,627      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-15 20:19:34,638   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-15 20:19:34,640   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-15 20:19:34,669      INFO  obico.moonraker_conn - connection is open
2023-12-15 20:19:34,682      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.7s (False)
2023-12-15 20:19:35,362      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.5s (False)
2023-12-15 20:19:35,712      INFO  obico.janus - Starting webcam streamer
2023-12-15 20:19:36,951      INFO  obico.moonraker_conn - Klippy ready
2023-12-15 20:19:37,185      INFO  obico.app - detected state change: Offline -> Operational
2023-12-15 20:19:37,683   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 98840}, sender='moonrakerconn')
2023-12-16 03:53:32,190      INFO  backoff - Backing off capture_jpeg(...) for 0.2s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-16 03:53:32,380      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-16 03:53:32,455     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-16 03:53:32,456   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-16 03:53:59,644      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 03:54:22,099      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 03:55:11,049      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 03:55:22,225      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 03:55:50,497      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 03:56:52,137      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 05:19:52,454      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 05:20:57,762      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 05:29:31,951      INFO  obico.app - detected state change: Operational -> Printing
2023-12-16 05:29:32,124      INFO  obico.app - print event: PrintStarted (1702704571)
2023-12-16 05:39:03,015      INFO  obico.app - detected state change: Printing -> Paused
2023-12-16 05:39:03,016      INFO  obico.app - print event: PrintPaused (1702704571)
2023-12-16 05:39:08,024      INFO  obico.app - detected state change: Paused -> Operational
2023-12-16 05:39:08,025      INFO  obico.app - print event: PrintCancelled (1702704571)
2023-12-16 05:39:08,526      INFO  obico.app - print event: PrintFailed (1702704571)
2023-12-16 05:41:04,290      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 05:41:38,060      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 05:42:43,054      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 05:43:08,127      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 05:43:18,118      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 05:43:38,282      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 05:44:37,914      INFO  obico.app - detected state change: Operational -> Printing
2023-12-16 05:44:38,057      INFO  obico.app - print event: PrintStarted (1702705477)
2023-12-16 19:38:39,105      INFO  obico.app - detected state change: Printing -> Operational
2023-12-16 19:38:39,107      INFO  obico.app - print event: PrintDone (1702705477)
2023-12-16 19:52:01,738      INFO  obico.app - detected state change: Operational -> Printing
2023-12-16 19:52:01,912      INFO  obico.app - print event: PrintStarted (1702756321)
2023-12-16 20:32:48,546      INFO  obico.app - detected state change: Printing -> Operational
2023-12-16 20:32:48,547      INFO  obico.app - print event: PrintDone (1702756321)
2023-12-16 21:38:34,790   WARNING  obico.ws - WS Closed - None - None
2023-12-16 21:38:34,792      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-16 22:06:58,161      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 22:07:25,255      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 22:10:02,552      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 22:10:25,576      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 22:10:43,408      INFO  obico.app - detected state change: Operational -> Printing
2023-12-16 22:10:43,697      INFO  obico.app - print event: PrintStarted (1702764643)
2023-12-16 22:32:23,108      INFO  obico.app - detected state change: Printing -> Operational
2023-12-16 22:32:23,110      INFO  obico.app - print event: PrintDone (1702764643)
2023-12-16 22:39:58,228      INFO  obico.app - Fetching linked printer...
2023-12-16 22:39:59,428      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-16 22:39:59,435   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-16 22:39:59,436   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-16 22:39:59,467      INFO  obico.moonraker_conn - connection is open
2023-12-16 22:39:59,504      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.7s (False)
2023-12-16 22:40:00,186      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.5s (False)
2023-12-16 22:40:00,493      INFO  obico.janus - Starting webcam streamer
2023-12-16 22:40:00,687      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.7s (False)
2023-12-16 22:40:03,423      INFO  backoff - Backing off wait_for_klippy_ready(...) for 5.3s (False)
2023-12-16 22:40:08,698      INFO  backoff - Backing off wait_for_klippy_ready(...) for 8.8s (False)
2023-12-16 22:40:17,501      INFO  backoff - Backing off wait_for_klippy_ready(...) for 10.7s (False)
2023-12-16 23:16:18,023      INFO  backoff - Backing off wait_for_klippy_ready(...) for 25.3s (False)
2023-12-16 23:16:43,460      INFO  obico.moonraker_conn - Klippy ready
2023-12-16 23:16:43,710      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 23:25:35,753      INFO  obico.app - detected state change: Operational -> Offline
2023-12-16 23:26:14,052     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-12-16 23:26:44,200      INFO  obico.app - detected state change: Offline -> Operational
2023-12-16 23:33:17,766      INFO  obico.app - Fetching linked printer...
2023-12-16 23:33:18,044      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-16 23:33:18,051   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-16 23:33:18,053   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-16 23:33:18,085      INFO  backoff - Backing off ensure_api_key(...) for 0.7s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf58b1fa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-16 23:33:18,738   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-16 23:33:18,744      INFO  backoff - Backing off ensure_api_key(...) for 1.5s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf58cc6d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-16 23:33:19,054   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-16 23:33:20,056   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-16 23:33:20,252   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-16 23:33:20,272      INFO  obico.moonraker_conn - connection is open
2023-12-16 23:33:20,284      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-16 23:33:21,295      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.5s (False)
2023-12-16 23:33:21,788      INFO  obico.janus - Starting webcam streamer
2023-12-16 23:33:23,033      INFO  obico.moonraker_conn - Klippy ready
2023-12-16 23:33:23,063   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 10002}, sender='moonrakerconn')
2023-12-16 23:33:23,281      INFO  obico.app - detected state change: Offline -> Operational
2023-12-17 00:44:28,331      INFO  obico.app - detected state change: Operational -> Offline
2023-12-17 00:44:41,590      INFO  obico.app - detected state change: Offline -> Printing
2023-12-17 01:08:55,984      INFO  obico.app - detected state change: Printing -> Operational
2023-12-17 01:08:55,986      INFO  obico.app - print event: PrintDone (1702773881)
2023-12-17 03:09:53,267      INFO  obico.app - detected state change: Operational -> Printing
2023-12-17 03:09:53,501      INFO  obico.app - print event: PrintStarted (1702782593)
2023-12-17 03:16:23,453      INFO  backoff - Backing off capture_jpeg(...) for 1.0s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-17 03:16:24,452      INFO  backoff - Backing off capture_jpeg(...) for 0.6s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-17 03:16:25,005     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-17 03:16:25,005   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-17 03:16:25,260      INFO  obico.app - detected state change: Printing -> Offline
2023-12-17 03:16:55,536      INFO  obico.app - detected state change: Offline -> Operational
2023-12-17 03:22:40,884      INFO  obico.app - detected state change: Operational -> Offline
2023-12-17 03:22:55,974      INFO  obico.app - detected state change: Offline -> Operational
2023-12-17 03:24:23,642      INFO  obico.app - detected state change: Operational -> Offline
2023-12-17 03:27:26,303      INFO  obico.app - detected state change: Offline -> Operational
2023-12-17 03:27:34,006      INFO  obico.app - detected state change: Operational -> Offline
2023-12-17 03:27:48,092   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-12-17 03:27:48,095   WARNING  obico.ws - WS Closed - None - None
2023-12-17 03:29:48,331   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-12-17 03:29:48,340      INFO  obico.moonraker_conn - connection is open
2023-12-17 03:29:48,433      INFO  obico.moonraker_conn - Klippy ready
2023-12-17 03:29:48,632      INFO  obico.app - detected state change: Offline -> Printing
2023-12-17 05:44:37,453      INFO  obico.app - detected state change: Printing -> Operational
2023-12-17 05:44:37,458      INFO  obico.app - print event: PrintDone (1702783707)
2023-12-17 14:17:28,836      INFO  obico.app - Fetching linked printer...
2023-12-17 14:17:29,068      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-17 14:17:29,075   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-17 14:17:29,076   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-17 14:17:29,104      INFO  backoff - Backing off ensure_api_key(...) for 0.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5a51fa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-17 14:17:29,981   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-17 14:17:29,986      INFO  backoff - Backing off ensure_api_key(...) for 0.2s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5a6d6d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-17 14:17:30,077   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-17 14:17:30,194   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-17 14:17:30,200      INFO  backoff - Backing off ensure_api_key(...) for 1.6s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5a6dbe0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-17 14:17:31,079   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-17 14:17:31,809   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-17 14:17:32,065      INFO  obico.moonraker_conn - connection is open
2023-12-17 14:17:32,081   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-17 14:17:32,095      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.6s (False)
2023-12-17 14:17:32,701      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-17 14:17:33,147      INFO  obico.janus - Starting webcam streamer
2023-12-17 14:17:33,614      INFO  obico.moonraker_conn - Klippy ready
2023-12-17 14:17:33,864      INFO  obico.app - detected state change: Offline -> Operational
2023-12-17 18:08:40,101      INFO  obico.app - detected state change: Operational -> Printing
2023-12-17 18:08:40,380      INFO  obico.app - print event: PrintStarted (1702836519)
2023-12-17 18:43:34,716      INFO  obico.app - detected state change: Printing -> Paused
2023-12-17 18:43:34,718      INFO  obico.app - print event: PrintPaused (1702836519)
2023-12-17 18:43:40,479      INFO  obico.app - detected state change: Paused -> Operational
2023-12-17 18:43:40,480      INFO  obico.app - print event: PrintCancelled (1702836519)
2023-12-17 18:43:40,982      INFO  obico.app - print event: PrintFailed (1702836519)
2023-12-17 18:53:40,768      INFO  obico.app - detected state change: Operational -> Printing
2023-12-17 18:53:41,448      INFO  obico.app - print event: PrintStarted (1702839220)
2023-12-17 19:23:30,045      INFO  obico.app - detected state change: Printing -> Operational
2023-12-17 19:23:30,046      INFO  obico.app - print event: PrintDone (1702839220)
2023-12-17 19:44:45,191      INFO  obico.app - detected state change: Operational -> Printing
2023-12-17 19:44:45,492      INFO  obico.app - print event: PrintStarted (1702842284)
2023-12-17 20:14:50,241      INFO  obico.app - detected state change: Printing -> Operational
2023-12-17 20:14:50,246      INFO  obico.app - print event: PrintDone (1702842284)
2023-12-17 22:10:18,852      INFO  obico.app - detected state change: Operational -> Printing
2023-12-17 22:10:19,075      INFO  obico.app - print event: PrintStarted (1702851018)
2023-12-17 23:14:27,474      INFO  obico.app - detected state change: Printing -> Operational
2023-12-17 23:14:27,479      INFO  obico.app - print event: PrintDone (1702851018)
2023-12-17 23:23:19,899      INFO  obico.app - detected state change: Operational -> Printing
2023-12-17 23:23:20,159      INFO  obico.app - print event: PrintStarted (1702855399)
2023-12-18 00:20:27,086      INFO  obico.app - detected state change: Printing -> Operational
2023-12-18 00:20:27,087      INFO  obico.app - print event: PrintDone (1702855399)
2023-12-18 00:35:33,148      INFO  obico.app - detected state change: Operational -> Offline
2023-12-18 00:35:58,796      INFO  obico.app - detected state change: Offline -> Operational
2023-12-18 00:39:09,397      INFO  obico.app - detected state change: Operational -> Printing
2023-12-18 00:39:09,571      INFO  obico.app - print event: PrintStarted (1702859949)
2023-12-18 01:31:13,089      INFO  obico.app - Fetching linked printer...
2023-12-18 01:31:13,266      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-18 01:31:13,276   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-18 01:31:13,278   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-18 01:31:13,311      INFO  backoff - Backing off ensure_api_key(...) for 0.5s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5da2fa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-18 01:31:13,779   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-18 01:31:13,785      INFO  backoff - Backing off ensure_api_key(...) for 1.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5dbd6d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-18 01:31:14,280   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-18 01:31:15,281   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-18 01:31:15,730   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-18 01:31:15,754      INFO  obico.moonraker_conn - connection is open
2023-12-18 01:31:15,772      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-18 01:31:16,346      INFO  obico.janus - Starting webcam streamer
2023-12-18 01:31:16,571      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.4s (False)
2023-12-18 01:31:18,237      INFO  obico.moonraker_conn - Klippy ready
2023-12-18 01:31:18,254   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 50734}, sender='moonrakerconn')
2023-12-18 01:31:18,477      INFO  obico.app - detected state change: Offline -> Operational
2023-12-18 02:00:14,279      INFO  obico.app - detected state change: Operational -> Offline
2023-12-18 02:00:30,853      INFO  obico.app - detected state change: Offline -> Printing
2023-12-18 04:17:25,416      INFO  obico.app - Fetching linked printer...
2023-12-18 04:17:25,589      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-18 04:17:25,597   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-18 04:17:25,597   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-18 04:17:25,629      INFO  backoff - Backing off ensure_api_key(...) for 0.3s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5adcfb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-18 04:17:25,936   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-18 04:17:25,943      INFO  backoff - Backing off ensure_api_key(...) for 0.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5af86d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-18 04:17:26,600   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-18 04:17:26,807   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-18 04:17:26,827      INFO  obico.moonraker_conn - connection is open
2023-12-18 04:17:26,838      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-18 04:17:27,656      INFO  obico.janus - Starting webcam streamer
2023-12-18 04:17:27,685      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.0s (False)
2023-12-18 04:17:28,821      INFO  obico.moonraker_conn - Klippy ready
2023-12-18 04:17:29,067      INFO  obico.app - detected state change: Offline -> Operational
2023-12-18 04:17:29,072   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 78031}, sender='moonrakerconn')
2023-12-18 16:11:06,767      INFO  obico.app - detected state change: Operational -> Offline
2023-12-18 16:11:19,124      INFO  obico.app - detected state change: Offline -> Printing
2023-12-18 18:59:53,007      INFO  obico.app - detected state change: Printing -> Operational
2023-12-18 18:59:53,008      INFO  obico.app - print event: PrintDone (1702915878)
2023-12-19 04:10:55,045   WARNING  obico.ws - WS Closed - None - None
2023-12-19 05:36:08,391      INFO  obico.app - detected state change: Operational -> Offline
2023-12-19 05:36:36,082      INFO  obico.app - detected state change: Offline -> Operational
2023-12-19 05:39:37,452      INFO  obico.app - detected state change: Operational -> Offline
2023-12-19 05:40:06,309      INFO  obico.app - detected state change: Offline -> Operational
2023-12-19 05:40:10,862      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 05:40:11,023      INFO  obico.app - print event: PrintStarted (1702964410)
2023-12-19 06:03:45,942   WARNING  obico.ws - WS Closed - None - None
2023-12-19 08:00:00,451      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 08:00:00,452      INFO  obico.app - print event: PrintDone (1702964410)
2023-12-19 16:46:55,799      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 16:46:55,959      INFO  obico.app - print event: PrintStarted (1703004415)
2023-12-19 19:28:23,201      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 19:28:23,201      INFO  obico.app - print event: PrintDone (1703004415)
2023-12-19 19:35:17,518      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 19:35:17,672      INFO  obico.app - print event: PrintStarted (1703014517)
2023-12-19 20:33:32,733      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 20:33:32,736      INFO  obico.app - print event: PrintDone (1703014517)
2023-12-19 20:50:11,234      INFO  obico.app - detected state change: Operational -> Offline
2023-12-19 20:50:34,472      INFO  obico.app - detected state change: Offline -> Operational
2023-12-19 20:50:58,246      INFO  backoff - Backing off capture_jpeg(...) for 0.5s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-19 20:50:58,704      INFO  backoff - Backing off capture_jpeg(...) for 0.5s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-19 20:50:59,206     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-19 20:50:59,207   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-19 20:51:33,863      INFO  obico.app - detected state change: Operational -> Offline
2023-12-19 20:51:34,334     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-12-19 20:52:04,433      INFO  obico.app - detected state change: Offline -> Operational
2023-12-19 20:52:57,120      INFO  obico.app - detected state change: Operational -> Offline
2023-12-19 20:53:04,525      INFO  obico.app - detected state change: Offline -> Operational
2023-12-19 20:53:55,110      INFO  obico.app - detected state change: Operational -> Offline
2023-12-19 20:54:04,536      INFO  obico.app - detected state change: Offline -> Operational
2023-12-19 20:57:57,365      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 20:57:57,520      INFO  obico.app - print event: PrintStarted (1703019477)
2023-12-19 22:30:07,963      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 22:30:07,966      INFO  obico.app - print event: PrintDone (1703019477)
2023-12-19 22:38:16,515      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 22:38:16,719      INFO  obico.app - print event: PrintStarted (1703025496)
2023-12-19 22:58:01,364      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 22:58:01,365      INFO  obico.app - print event: PrintDone (1703025496)
2023-12-19 23:04:33,164      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 23:04:33,324      INFO  obico.app - print event: PrintStarted (1703027072)
2023-12-19 23:26:52,159      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 23:26:52,161      INFO  obico.app - print event: PrintDone (1703027072)
2023-12-19 23:38:32,037      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 23:38:32,204      INFO  obico.app - print event: PrintStarted (1703029111)
2023-12-19 23:49:50,755      INFO  obico.app - detected state change: Printing -> Operational
2023-12-19 23:49:50,756      INFO  obico.app - print event: PrintCancelled (1703029111)
2023-12-19 23:49:51,258      INFO  obico.app - print event: PrintFailed (1703029111)
2023-12-19 23:50:43,654      INFO  obico.app - detected state change: Operational -> Printing
2023-12-19 23:50:43,867      INFO  obico.app - print event: PrintStarted (1703029843)
2023-12-20 00:47:02,563      INFO  obico.app - detected state change: Printing -> Operational
2023-12-20 00:47:02,564      INFO  obico.app - print event: PrintDone (1703029843)
2023-12-20 00:59:12,047      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 00:59:33,219      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 00:59:59,105      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:00:33,406      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:01:28,606      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:02:03,429      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:02:37,860      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:03:03,482      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:12:44,765      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:13:04,044      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:15:50,303      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:16:04,431      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:17:58,367      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:18:04,520      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:20:24,388      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:20:34,545      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:30:54,099      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:31:05,235      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:32:07,795      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:35:05,662      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:36:20,630      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:36:35,562      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:44:08,645      INFO  obico.app - detected state change: Operational -> Printing
2023-12-20 01:44:08,828      INFO  obico.app - print event: PrintStarted (1703036648)
2023-12-20 01:50:31,202      INFO  obico.app - detected state change: Printing -> Operational
2023-12-20 01:50:31,203      INFO  obico.app - print event: PrintCancelled (1703036648)
2023-12-20 01:50:31,705      INFO  obico.app - print event: PrintFailed (1703036648)
2023-12-20 01:51:49,892      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:52:01,603      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 01:52:23,111      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 01:39:39,279      INFO  obico.app - Fetching linked printer...
2023-12-20 01:39:40,518      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-20 01:39:40,524   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-20 01:39:40,526   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-20 01:39:40,551      INFO  obico.moonraker_conn - connection is open
2023-12-20 01:39:40,562      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-20 01:39:41,389      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.0s (False)
2023-12-20 01:39:41,587      INFO  obico.janus - Starting webcam streamer
2023-12-20 01:39:43,395      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.7s (False)
2023-12-20 01:39:47,177      INFO  obico.moonraker_conn - Klippy ready
2023-12-20 01:39:47,199   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 84431}, sender='moonrakerconn')
2023-12-20 01:39:47,437      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 02:09:14,642      INFO  obico.app - Fetching linked printer...
2023-12-20 02:09:15,938      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-20 02:09:15,945   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-20 02:09:15,946   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-20 02:09:16,015      INFO  obico.moonraker_conn - connection is open
2023-12-20 02:09:16,027      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.1s (False)
2023-12-20 02:09:16,125      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.0s (False)
2023-12-20 02:09:17,014      INFO  obico.janus - Starting webcam streamer
2023-12-20 02:09:17,130      INFO  backoff - Backing off wait_for_klippy_ready(...) for 3.0s (False)
2023-12-20 02:09:20,354      INFO  obico.moonraker_conn - Klippy ready
2023-12-20 02:09:20,370   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 8458}, sender='moonrakerconn')
2023-12-20 02:09:20,609      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 02:31:58,628      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 02:32:25,023      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 02:32:56,232      INFO  obico.app - detected state change: Operational -> Printing
2023-12-20 02:32:56,415      INFO  obico.app - print event: PrintStarted (1703039575)
2023-12-20 13:39:50,271   WARNING  obico.ws - WS Closed - None - None
2023-12-20 15:59:55,900      INFO  obico.app - detected state change: Printing -> Operational
2023-12-20 15:59:55,901      INFO  obico.app - print event: PrintDone (1703039575)
2023-12-20 16:41:12,121      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 16:41:29,056      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 16:41:49,728      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 16:41:59,121      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 16:42:04,895      INFO  obico.app - detected state change: Operational -> Printing
2023-12-20 16:42:05,045      INFO  obico.app - print event: PrintStarted (1703090524)
2023-12-20 18:10:33,103   WARNING  obico.ws - WS Closed - None - None
2023-12-20 18:10:33,104      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-20 18:11:19,007   WARNING  obico.ws - WS Closed - None - None
2023-12-20 18:11:19,008      INFO  obico.app.tunnel - Tunneled WS is closing
2023-12-20 21:50:35,315      INFO  obico.app - detected state change: Printing -> Operational
2023-12-20 21:50:35,317      INFO  obico.app - print event: PrintDone (1703090524)
2023-12-20 22:41:28,653      INFO  obico.app - detected state change: Operational -> Offline
2023-12-20 22:41:38,836      INFO  obico.app - detected state change: Offline -> Operational
2023-12-20 22:44:49,685      INFO  obico.app - detected state change: Operational -> Printing
2023-12-20 22:44:49,820      INFO  obico.app - print event: PrintStarted (1703112289)
2023-12-20 23:10:16,347      INFO  obico.app - detected state change: Printing -> Operational
2023-12-20 23:10:16,348      INFO  obico.app - print event: PrintDone (1703112289)
2023-12-21 03:55:13,196      INFO  obico.app - detected state change: Operational -> Offline
2023-12-21 03:55:36,091      INFO  obico.app - detected state change: Offline -> Operational
2023-12-21 03:56:00,189      INFO  obico.app - detected state change: Operational -> Printing
2023-12-21 03:56:05,961      INFO  backoff - Backing off find_most_recent_job(...) for 0.7s (requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=7125): Read timed out. (read timeout=5))
2023-12-21 03:56:06,852      INFO  obico.app - print event: PrintStarted (1703130959)
2023-12-21 09:15:51,034      INFO  obico.app - detected state change: Printing -> Operational
2023-12-21 09:15:51,035      INFO  obico.app - print event: PrintDone (1703130959)
2023-12-21 13:40:10,799   WARNING  obico.ws - WS Closed - None - None
2023-12-21 14:55:31,696      INFO  obico.app - detected state change: Operational -> Printing
2023-12-21 14:55:31,884      INFO  obico.app - print event: PrintStarted (1703170531)
2023-12-21 16:27:13,161      INFO  obico.app - detected state change: Printing -> Operational
2023-12-21 16:27:13,164      INFO  obico.app - print event: PrintDone (1703170531)
2023-12-21 16:43:30,276      INFO  obico.app - detected state change: Operational -> Printing
2023-12-21 16:43:30,440      INFO  obico.app - print event: PrintStarted (1703177010)
2023-12-21 17:35:01,419   WARNING  obico.ws - WS Closed - None - None
2023-12-21 21:27:13,226      INFO  obico.app - detected state change: Printing -> Operational
2023-12-21 21:27:13,226      INFO  obico.app - print event: PrintDone (1703177010)
2023-12-22 17:35:04,406   WARNING  obico.ws - WS Closed - None - None
2023-12-23 15:56:13,096   WARNING  obico.ws - WS Closed - None - None
2023-12-24 15:56:35,350   WARNING  obico.ws - WS Closed - None - None
2023-12-25 03:39:07,401      INFO  obico.app - Fetching linked printer...
2023-12-25 03:39:07,557      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-25 03:39:07,564   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-25 03:39:07,566   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-25 03:39:07,597      INFO  backoff - Backing off ensure_api_key(...) for 1.0s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5f42fb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-25 03:39:08,566   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-25 03:39:08,587   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-25 03:39:08,597      INFO  backoff - Backing off ensure_api_key(...) for 0.5s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5f5d6d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-25 03:39:09,101   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-25 03:39:09,126      INFO  obico.moonraker_conn - connection is open
2023-12-25 03:39:09,139      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.3s (False)
2023-12-25 03:39:09,472      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.4s (False)
2023-12-25 03:39:09,622      INFO  obico.janus - Starting webcam streamer
2023-12-25 03:39:10,640      INFO  backoff - Backing off wait_for_janus(...) for 0.6s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-12-25 03:39:10,994      INFO  obico.moonraker_conn - Klippy ready
2023-12-25 03:39:11,241      INFO  obico.app - detected state change: Offline -> Operational
2023-12-25 03:39:11,244   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 97977}, sender='moonrakerconn')
2023-12-25 03:39:12,247      INFO  backoff - Backing off wait_for_janus(...) for 1.9s (ConnectionRefusedError: [Errno 111] Connection refused)
2023-12-26 02:20:03,381      INFO  obico.app - detected state change: Operational -> Printing
2023-12-26 02:20:03,567      INFO  obico.app - print event: PrintStarted (1703557203)
2023-12-26 04:09:37,194      INFO  obico.app - detected state change: Printing -> Operational
2023-12-26 04:09:37,194      INFO  obico.app - print event: PrintCancelled (1703557203)
2023-12-26 04:09:37,696      INFO  obico.app - print event: PrintFailed (1703557203)
2023-12-26 04:13:31,959      INFO  obico.app - detected state change: Operational -> Printing
2023-12-26 04:13:32,096      INFO  obico.app - print event: PrintStarted (1703564011)
2023-12-26 07:04:22,693      INFO  obico.app - detected state change: Printing -> Operational
2023-12-26 07:04:22,695      INFO  obico.app - print event: PrintDone (1703564011)
2023-12-26 14:45:31,914      INFO  obico.app - detected state change: Operational -> Printing
2023-12-26 14:45:32,066      INFO  obico.app - print event: PrintStarted (1703601931)
2023-12-26 16:04:36,994      INFO  obico.app - detected state change: Printing -> Paused
2023-12-26 16:04:36,995      INFO  obico.app - print event: PrintPaused (1703601931)
2023-12-26 16:12:37,545      INFO  obico.app - detected state change: Paused -> Printing
2023-12-26 16:12:37,546      INFO  obico.app - print event: PrintResumed (1703601931)
2023-12-26 16:15:16,969      INFO  obico.app - detected state change: Printing -> Operational
2023-12-26 16:15:16,970      INFO  obico.app - print event: PrintCancelled (1703601931)
2023-12-26 16:15:17,472      INFO  obico.app - print event: PrintFailed (1703601931)
2023-12-26 17:17:26,003      INFO  obico.app - Fetching linked printer...
2023-12-26 17:17:26,147      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-26 17:17:26,154   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-26 17:17:26,156   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-26 17:17:26,199      INFO  backoff - Backing off ensure_api_key(...) for 0.8s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf57ddfb8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-26 17:17:27,019   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-26 17:17:27,025      INFO  backoff - Backing off ensure_api_key(...) for 0.3s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf57f86b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-26 17:17:27,156   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-26 17:17:27,321   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-26 17:17:27,343      INFO  obico.moonraker_conn - connection is open
2023-12-26 17:17:27,358      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-26 17:17:28,223      INFO  obico.janus - Starting webcam streamer
2023-12-26 17:17:28,269      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.9s (False)
2023-12-26 17:17:30,312      INFO  obico.moonraker_conn - Klippy ready
2023-12-26 17:17:30,325   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 26127}, sender='moonrakerconn')
2023-12-26 17:17:30,561      INFO  obico.app - detected state change: Offline -> Operational
2023-12-26 17:34:45,463      INFO  obico.app - detected state change: Operational -> Printing
2023-12-26 17:34:45,622      INFO  obico.app - print event: PrintStarted (1703612085)
2023-12-26 17:44:46,157      INFO  obico.app - detected state change: Printing -> Paused
2023-12-26 17:44:46,158      INFO  obico.app - print event: PrintPaused (1703612085)
2023-12-26 17:44:50,417      INFO  obico.app - detected state change: Paused -> Operational
2023-12-26 17:44:50,419      INFO  obico.app - print event: PrintCancelled (1703612085)
2023-12-26 17:44:50,921      INFO  obico.app - print event: PrintFailed (1703612085)
2023-12-26 17:44:52,335      INFO  obico.app - detected state change: Operational -> Offline
2023-12-26 17:45:21,369      INFO  obico.app - detected state change: Offline -> Operational
2023-12-26 17:48:23,809      INFO  obico.app - detected state change: Operational -> Printing
2023-12-26 17:48:23,974      INFO  obico.app - print event: PrintStarted (1703612903)
2023-12-26 19:23:53,607      INFO  obico.app - detected state change: Printing -> Operational
2023-12-26 19:23:53,609      INFO  obico.app - print event: PrintDone (1703612903)
2023-12-26 22:46:31,778      INFO  obico.app - detected state change: Operational -> Offline
2023-12-26 22:46:37,365      INFO  obico.app - detected state change: Offline -> Operational
2023-12-26 22:47:07,798      INFO  obico.app - detected state change: Operational -> Printing
2023-12-26 22:47:08,043      INFO  obico.app - print event: PrintStarted (1703630827)
2023-12-27 00:31:37,500      INFO  obico.app - detected state change: Printing -> Operational
2023-12-27 00:31:37,501      INFO  obico.app - print event: PrintDone (1703630827)
2023-12-27 02:43:54,355      INFO  obico.app - detected state change: Operational -> Printing
2023-12-27 02:43:54,491      INFO  obico.app - print event: PrintStarted (1703645034)
2023-12-27 02:47:26,968      INFO  obico.app - detected state change: Printing -> Offline
2023-12-27 02:47:27,478      INFO  backoff - Backing off capture_jpeg(...) for 0.5s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-27 02:47:28,003      INFO  backoff - Backing off capture_jpeg(...) for 1.0s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-27 02:47:29,009     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-27 02:47:29,010   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-27 02:47:57,247      INFO  obico.app - detected state change: Offline -> Operational
2023-12-27 02:48:35,963      INFO  obico.app - detected state change: Operational -> Printing
2023-12-27 02:48:36,095      INFO  obico.app - print event: PrintStarted (1703645315)
2023-12-27 02:50:23,010      INFO  obico.app - detected state change: Printing -> Operational
2023-12-27 02:50:23,011      INFO  obico.app - print event: PrintCancelled (1703645315)
2023-12-27 02:50:23,512      INFO  obico.app - print event: PrintFailed (1703645315)
2023-12-27 02:52:17,176      INFO  obico.app - detected state change: Operational -> Printing
2023-12-27 02:52:17,334      INFO  obico.app - print event: PrintStarted (1703645536)
2023-12-27 09:03:22,235      INFO  obico.app - detected state change: Printing -> Operational
2023-12-27 09:03:22,238      INFO  obico.app - print event: PrintDone (1703645536)
                                                                                                                                                                                    2023-12-27 15:35:31,649      INFO  obico.app - Fetching linked printer...
2023-12-27 15:35:31,804      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-27 15:35:31,812   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-27 15:35:31,814   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-27 15:35:31,839      INFO  backoff - Backing off ensure_api_key(...) for 0.5s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5f4bfa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-27 15:35:32,369   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-27 15:35:32,375      INFO  backoff - Backing off ensure_api_key(...) for 0.1s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5f666d0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-27 15:35:32,503   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-27 15:35:32,509      INFO  backoff - Backing off ensure_api_key(...) for 2.9s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5f66bc8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-27 15:35:32,817   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-27 15:35:33,819   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-27 15:35:34,821   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-27 15:35:35,387   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-27 15:35:35,407      INFO  obico.moonraker_conn - connection is open
2023-12-27 15:35:35,417      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.4s (False)
2023-12-27 15:35:35,836      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.3s (False)
2023-12-27 15:35:35,877      INFO  obico.janus - Starting webcam streamer
2023-12-27 15:35:37,367      INFO  obico.moonraker_conn - Klippy ready
2023-12-27 15:35:37,613      INFO  obico.app - detected state change: Offline -> Operational
2023-12-27 15:35:37,866   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 34278}, sender='moonrakerconn')
2023-12-27 15:47:13,584      INFO  obico.app - detected state change: Operational -> Printing
2023-12-27 15:47:13,771      INFO  obico.app - print event: PrintStarted (1703692033)
2023-12-27 17:16:49,623      INFO  obico.app - detected state change: Printing -> Paused
2023-12-27 17:16:49,624      INFO  obico.app - print event: PrintPaused (1703692033)
2023-12-27 17:17:19,751      INFO  obico.app - detected state change: Paused -> Printing
2023-12-27 17:17:19,753      INFO  obico.app - print event: PrintResumed (1703692033)
2023-12-28 02:34:29,171      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 02:34:29,172      INFO  obico.app - print event: PrintDone (1703692033)
2023-12-28 02:42:34,497      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 02:42:59,690      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 02:44:21,510      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 02:44:29,600      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 02:44:35,892      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 02:44:36,068      INFO  obico.app - print event: PrintStarted (1703731475)
2023-12-28 03:28:08,973      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 03:28:08,975      INFO  obico.app - print event: PrintDone (1703731475)
2023-12-28 03:29:25,435      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 03:29:39,673      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 03:30:44,792      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 03:31:09,811      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 03:31:21,379      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 03:31:21,581      INFO  obico.app - print event: PrintStarted (1703734281)
2023-12-28 03:33:46,302      INFO  backoff - Backing off capture_jpeg(...) for 0.5s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-28 03:33:46,773      INFO  backoff - Backing off capture_jpeg(...) for 0.4s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-28 03:33:47,144     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-28 03:33:47,145   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-28 03:33:47,340      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 03:33:47,341      INFO  obico.app - print event: PrintCancelled (1703734281)
2023-12-28 03:33:47,843      INFO  obico.app - print event: PrintFailed (1703734281)
2023-12-28 03:34:13,170      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 03:34:13,385      INFO  obico.app - print event: PrintStarted (1703734452)
2023-12-28 03:53:38,702      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 03:53:38,703      INFO  obico.app - print event: PrintDone (1703734452)
2023-12-28 03:56:03,087      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 03:56:03,256      INFO  obico.app - print event: PrintStarted (1703735762)
2023-12-28 04:57:06,104      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 04:57:06,105      INFO  obico.app - print event: PrintDone (1703735762)
2023-12-28 05:19:22,675      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 05:19:37,827      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 05:20:49,124      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 05:21:08,066      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 05:21:52,928      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 05:21:53,161      INFO  obico.app - print event: PrintStarted (1703740912)
2023-12-28 05:26:43,878      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 05:26:43,878      INFO  obico.app - print event: PrintCancelled (1703740912)
2023-12-28 05:26:44,380      INFO  obico.app - print event: PrintFailed (1703740912)
2023-12-28 05:33:33,230      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 05:33:33,628      INFO  obico.app - print event: PrintStarted (1703741612)
2023-12-28 15:23:27,580      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 15:23:27,582      INFO  obico.app - print event: PrintDone (1703741612)
2023-12-28 15:46:39,213   WARNING  obico.ws - WS Closed - None - None
2023-12-28 15:52:09,409      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 15:52:09,545      INFO  obico.app - print event: PrintStarted (1703778729)
2023-12-28 15:56:18,706      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 15:56:18,708      INFO  obico.app - print event: PrintCancelled (1703778729)
2023-12-28 15:56:19,210      INFO  obico.app - print event: PrintFailed (1703778729)
2023-12-28 15:40:24,888      INFO  obico.app - Fetching linked printer...
2023-12-28 15:40:26,085      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-28 15:40:26,094   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-28 15:40:26,097   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-28 15:40:26,154      INFO  backoff - Backing off ensure_api_key(...) for 0.3s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5cdcfa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-28 15:40:26,408   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-28 15:40:26,428      INFO  obico.moonraker_conn - connection is open
2023-12-28 15:40:26,439      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.5s (False)
2023-12-28 15:40:26,910      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.7s (False)
2023-12-28 15:40:27,178      INFO  obico.janus - Starting webcam streamer
2023-12-28 15:40:28,690      INFO  obico.moonraker_conn - Klippy ready
2023-12-28 15:40:28,935      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 15:40:29,437   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 1416}, sender='moonrakerconn')
2023-12-28 16:20:13,785      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 16:20:13,929      INFO  obico.app - print event: PrintStarted (1703780413)
2023-12-28 16:30:15,136      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 16:30:15,137      INFO  obico.app - print event: PrintCancelled (1703780413)
2023-12-28 16:30:15,638      INFO  obico.app - print event: PrintFailed (1703780413)
2023-12-28 16:45:01,764      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 16:45:01,915      INFO  obico.app - print event: PrintStarted (1703781901)
2023-12-28 22:25:55,201      INFO  obico.app - detected state change: Printing -> Paused
2023-12-28 22:25:55,203      INFO  obico.app - print event: PrintPaused (1703781901)
2023-12-28 22:26:26,309      INFO  obico.app - detected state change: Paused -> Operational
2023-12-28 22:26:26,310      INFO  obico.app - print event: PrintCancelled (1703781901)
2023-12-28 22:26:26,812      INFO  obico.app - print event: PrintFailed (1703781901)
2023-12-28 22:29:39,941      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 22:29:40,225      INFO  backoff - Backing off capture_jpeg(...) for 0.1s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-28 22:29:40,313      INFO  backoff - Backing off capture_jpeg(...) for 1.7s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-28 22:29:42,003     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-28 22:29:42,006   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-28 22:30:27,390      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 22:34:44,437      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 22:34:57,655      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 22:35:04,304      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 22:35:27,497      INFO  obico.app - Fetching linked printer...
2023-12-28 22:35:27,627      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-28 22:35:27,633   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-28 22:35:27,634   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-28 22:35:27,657      INFO  obico.moonraker_conn - connection is open
2023-12-28 22:35:27,667      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.5s (False)
2023-12-28 22:35:28,137      INFO  backoff - Backing off wait_for_klippy_ready(...) for 1.1s (False)
2023-12-28 22:35:28,673      INFO  obico.janus - Starting webcam streamer
2023-12-28 22:35:29,259      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.0s (False)
2023-12-28 22:35:31,260      INFO  backoff - Backing off wait_for_klippy_ready(...) for 2.4s (False)
2023-12-28 22:35:33,897      INFO  obico.moonraker_conn - Klippy ready
2023-12-28 22:35:34,145      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 22:35:54,309   WARNING  obico.ws - WS Closed - 1001 - Server Shutdown
2023-12-28 22:35:54,313      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 22:35:54,315   WARNING  obico.ws - WS Closed - None - None
2023-12-28 22:37:54,555   WARNING  obico.moonraker_conn - Not connected to websocket server after 120s
2023-12-28 22:37:54,571      INFO  obico.moonraker_conn - connection is open
2023-12-28 22:37:54,808      INFO  obico.moonraker_conn - Klippy ready
2023-12-28 22:37:55,061      INFO  obico.app - detected state change: Offline -> Operational
2023-12-28 23:18:51,407      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 23:18:51,612      INFO  obico.app - print event: PrintStarted (1703805531)
2023-12-28 23:29:05,538      INFO  obico.app - detected state change: Printing -> Paused
2023-12-28 23:29:05,539      INFO  obico.app - print event: PrintPaused (1703805531)
2023-12-28 23:29:16,323      INFO  obico.app - detected state change: Paused -> Operational
2023-12-28 23:29:16,324      INFO  obico.app - print event: PrintCancelled (1703805531)
2023-12-28 23:29:16,826      INFO  obico.app - print event: PrintFailed (1703805531)
2023-12-28 23:29:17,326      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 23:29:17,483      INFO  obico.app - print event: PrintStarted (1703806157)
2023-12-28 23:33:44,476      INFO  obico.app - detected state change: Printing -> Paused
2023-12-28 23:33:44,477      INFO  obico.app - print event: PrintPaused (1703806157)
2023-12-28 23:33:58,019      INFO  obico.app - detected state change: Paused -> Operational
2023-12-28 23:33:58,020      INFO  obico.app - print event: PrintCancelled (1703806157)
2023-12-28 23:33:58,522      INFO  obico.app - print event: PrintFailed (1703806157)
2023-12-28 23:34:00,087      INFO  obico.app - detected state change: Operational -> Offline
2023-12-28 23:34:16,157      INFO  obico.app - detected state change: Offline -> Printing
2023-12-28 23:39:16,907      INFO  obico.app - detected state change: Printing -> Paused
2023-12-28 23:39:16,909      INFO  obico.app - print event: PrintPaused (1703806455)
2023-12-28 23:39:19,910      INFO  obico.app - detected state change: Paused -> Operational
2023-12-28 23:39:19,911      INFO  obico.app - print event: PrintCancelled (1703806455)
2023-12-28 23:39:20,413      INFO  obico.app - print event: PrintFailed (1703806455)
2023-12-28 23:39:38,464      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 23:39:38,644      INFO  obico.app - print event: PrintStarted (1703806778)
2023-12-28 23:45:25,803      INFO  obico.app - detected state change: Printing -> Operational
2023-12-28 23:45:25,804      INFO  obico.app - print event: PrintCancelled (1703806778)
2023-12-28 23:45:26,306      INFO  obico.app - print event: PrintFailed (1703806778)
2023-12-28 23:45:48,630      INFO  obico.app - detected state change: Operational -> Printing
2023-12-28 23:45:48,788      INFO  obico.app - print event: PrintStarted (1703807148)
2023-12-29 04:03:06,275      INFO  obico.app - detected state change: Printing -> Paused
2023-12-29 04:03:06,278      INFO  obico.app - print event: PrintPaused (1703807148)
2023-12-29 04:03:18,821      INFO  obico.app - detected state change: Paused -> Operational
2023-12-29 04:03:18,822      INFO  obico.app - print event: PrintCancelled (1703807148)
2023-12-29 04:03:19,324      INFO  obico.app - print event: PrintFailed (1703807148)
2023-12-29 04:14:17,823      INFO  obico.app - detected state change: Operational -> Offline
2023-12-29 04:14:49,980      INFO  obico.app - detected state change: Offline -> Operational
2023-12-29 04:10:34,142      INFO  obico.app - Fetching linked printer...
2023-12-29 04:10:35,375      INFO  obico.app - Linked printer: {'is_pro': False, 'id': 156072, 'name': 'My Awesome Cloud Printer', 'retract_on_pause': 6.5}
2023-12-29 04:10:35,382   WARNING  obico.app - Connections not ready. Trying again in 1s...
2023-12-29 04:10:35,383   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-29 04:10:35,419      INFO  backoff - Backing off ensure_api_key(...) for 0.3s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5b9dfa0>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-29 04:10:35,765   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-29 04:10:35,772      INFO  backoff - Backing off ensure_api_key(...) for 0.4s (requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=7125): Max retries exceeded with url: /access/api_key (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xf5bb76b8>: Failed to establish a new connection: [Errno 111] Connection refused')))
2023-12-29 04:10:36,196   WARNING  obico.moonraker_conn - api key is unset, trying to fetch one
2023-12-29 04:10:36,217      INFO  obico.moonraker_conn - connection is open
2023-12-29 04:10:36,228      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.8s (False)
2023-12-29 04:10:36,448      INFO  obico.janus - Starting webcam streamer
2023-12-29 04:10:37,072      INFO  backoff - Backing off wait_for_klippy_ready(...) for 0.2s (False)
2023-12-29 04:10:37,285      INFO  backoff - Backing off wait_for_klippy_ready(...) for 4.0s (False)
2023-12-29 04:10:41,368      INFO  obico.moonraker_conn - Klippy ready
2023-12-29 04:10:41,380   WARNING  obico.app - error response from moonraker, Event(name='message', data={'jsonrpc': '2.0', 'error': {'code': 400, 'message': 'Invalid argument'}, 'id': 44002}, sender='moonrakerconn')
2023-12-29 04:10:41,617      INFO  obico.app - detected state change: Offline -> Operational
2023-12-29 16:34:06,819      INFO  obico.app - detected state change: Operational -> Offline
2023-12-29 16:34:07,024      INFO  backoff - Backing off capture_jpeg(...) for 0.8s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-29 16:34:07,806      INFO  backoff - Backing off capture_jpeg(...) for 1.5s (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-29 16:34:09,331     ERROR  backoff - Giving up capture_jpeg(...) after 3 tries (AttributeError: 'ServerConn' object has no attribute 'snapshot_url')
2023-12-29 16:34:09,332   WARNING  obico.server_conn - Failed to capture jpeg - 'ServerConn' object has no attribute 'snapshot_url'
2023-12-29 16:36:14,740      INFO  obico.app - detected state change: Offline -> Operational
2023-12-29 16:43:20,847      INFO  obico.app - detected state change: Operational -> Offline
2023-12-29 16:43:45,146      INFO  obico.app - detected state change: Offline -> Operational
2023-12-29 16:44:22,866      INFO  obico.app - detected state change: Operational -> Printing
2023-12-29 16:44:23,783      INFO  obico.app - print event: PrintStarted (1703868262)
2023-12-29 18:16:55,258      INFO  obico.app - detected state change: Printing -> Operational
2023-12-29 18:16:55,259      INFO  obico.app - print event: PrintDone (1703868262)
2023-12-29 19:33:49,837      INFO  obico.app - detected state change: Operational -> Offline
2023-12-29 19:34:00,466     ERROR  obico.utils - 
Traceback (most recent call last):
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 205, in event_loop
    self._process_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 217, in _process_event
    self._on_moonrakerconn_event(event)
  File "/home/meligy/moonraker-obico/moonraker_obico/app.py", line 257, in _on_moonrakerconn_event
    self._received_klippy_update(event.data['result'])
KeyError: 'result'
2023-12-29 19:35:00,565      INFO  obico.app - detected state change: Offline -> Operational
2023-12-29 19:35:28,970      INFO  obico.app - detected state change: Operational -> Offline
2023-12-29 19:36:00,596      INFO  obico.app - detected state change: Offline -> Operational
2023-12-29 19:36:25,947      INFO  obico.app - detected state change: Operational -> Offline
2023-12-29 19:37:00,822      INFO  obico.app - detected state change: Offline -> Operational
